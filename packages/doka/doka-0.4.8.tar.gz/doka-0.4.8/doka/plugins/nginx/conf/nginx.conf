worker_processes  2;
user www-data;

events {
    use  epoll;
    worker_connections  128;
}

error_log  /var/log/nginx_error.log info;

http {
    server_names_hash_bucket_size  128;

    server {
      listen 80;
      server_name scaf_api.scaf.icm.local;

      location / {
        proxy_pass http://scaf_api;
      }
    }

    server {
      listen 80;
      server_name filter.scaf.icm.local;

      location / {
        proxy_pass http://filter;
      }
    }

    server {
      listen 80;
      server_name screenshoter.scaf.icm.local;

      location / {
        proxy_pass http://screenshoter;
      }
    }

    server {
      listen 80;
      server_name filebeat.scaf.icm.local;

      location / {
        proxy_pass http://filebeat;
      }
    }

    server {
      listen 80;
      server_name scrapyd.scaf.icm.local;

      location / {
        proxy_pass http://scrapyd;
      }
    }

    server {
      listen 80;
      server_name fuco.scaf.icm.local;

      location / {
        proxy_pass http://fuco;
      }
    }

    server {
      listen 80;
      server_name authentication.auth.icm.local;

      location / {
        proxy_pass http://authentication;
      }
    }

    server {
      listen 80;
      server_name authorization.auth.icm.local;

      location / {
        proxy_pass http://authorization;
      }
    }

    server {
      listen 80;
      server_name servix.metron.icm.local;

      location / {
        proxy_pass http://servix;
      }
    }

    server {
      listen 80;
      server_name transformix.metron.icm.local;

      location / {
        proxy_pass http://transformix;
      }
    }

    server {
      listen 80;
      server_name metron_api.metron.icm.local;

      location / {
        proxy_pass http://metron_api;
      }
    }

    server {
      listen 80;
      server_name conveyer_filter_worker.conveyer.icm.local;

      location / {
        proxy_pass http://conveyer_filter_worker;
      }
    }

    server {
      listen 80;
      server_name conveyer_screenshoter_worker.conveyer.icm.local;

      location / {
        proxy_pass http://conveyer_screenshoter_worker;
      }
    }

    server {
      listen 80;
      server_name conveyer_documents_generator_worker.conveyer.icm.local;

      location / {
        proxy_pass http://conveyer_documents_generator_worker;
      }
    }

}