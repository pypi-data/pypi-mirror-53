version: 1
disable_existing_loggers: true

formatters:
    void:
        format:
    standard:
        format: "%(asctime)s [%(levelname)s] %(name)s: %(message)s"
    error:
        format: "%(asctime)s [%(levelname)s] %(name)s: <PID %(process)d:%(processName)s> %(funcName)s(): %(message)s"
    debug:
        format: "%(asctime)s [%(levelname)s] %(name)s: <PID %(process)d:%(processName)s> %(funcName)s(): %(message)s"
    request:
        (): requestlogger.ApacheFormatter

handlers:
    default:
        level: INFO
        class: logging.StreamHandler
        formatter: standard
        stream: ext://sys.stdout

    info_file:
        class: logging.handlers.TimedRotatingFileHandler
        level: INFO
        formatter: standard
        filename: info.log
        when: d
        interval: 1
        backupCount: 7

    error_file:
        class: logging.handlers.TimedRotatingFileHandler
        level: ERROR
        formatter: error
        filename: errors.log
        when: d
        interval: 1
        backupCount: 7

    debug_file:
        class: logging.handlers.TimedRotatingFileHandler
        level: DEBUG
        formatter: debug
        filename: debug.log
        when: d
        interval: 1
        backupCount: 7

    requests_file:
        class: logging.handlers.TimedRotatingFileHandler
        level: INFO
        formatter: standard
        filename: requests.log
        when: d
        interval: 1
        backupCount: 7
 
root:
    level: INFO
    handlers: [default]
    propagate: yes
 
loggers:
    toolbox:
        level: DEBUG
        handlers: [default, info_file, error_file, debug_file]
        propagate: no

    requestlogger:
        level: INFO
        handlers: [default, requests_file]


