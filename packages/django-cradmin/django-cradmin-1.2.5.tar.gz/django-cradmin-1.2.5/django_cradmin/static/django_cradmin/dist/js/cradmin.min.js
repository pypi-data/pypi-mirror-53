(function(){angular.module("djangoCradmin.acemarkdown",[]).directive("djangoCradminAcemarkdown",function(){return{restrict:"A",transclude:!0,templateUrl:"acemarkdown/acemarkdown.tpl.html",scope:{config:"=djangoCradminAcemarkdown"},controller:function($scope){this.setEditor=function(editorScope){return $scope.editor=editorScope,$scope.editor.aceEditor.on("focus",function(){return $scope.element.addClass("cradmin-focus")}),$scope.editor.aceEditor.on("blur",function(){return $scope.element.removeClass("cradmin-focus")})},this.setTextarea=function(textareaScope){return $scope.textarea=textareaScope,$scope.editor.setValue($scope.textarea.getValue())},this.setTextAreaValue=function(value){return $scope.textarea.setValue(value)},this.focusOnEditor=function(){return $scope.editor.focus()},this.editorSurroundSelectionWith=function(options){return $scope.editor.surroundSelectionWith(options)}},link:function(scope,element){var theme;return scope.element=element,scope.config.showTextarea&&element.addClass("cradmin-acemarkdown-textareavisible"),theme=scope.config.theme,theme||(theme="tomorrow"),scope.editor.setTheme(theme)}}}).directive("djangoCradminAcemarkdownEditor",function(){return{require:"^djangoCradminAcemarkdown",restrict:"A",template:"<div></div>",scope:{},controller:function($scope){$scope.setValue=function(value){return $scope.aceEditor.getSession().setValue(value)},$scope.focus=function(){return $scope.aceEditor.focus()},$scope.setTheme=function(theme){return $scope.aceEditor.setTheme("ace/theme/"+theme)},$scope.onChange=function(){var value;return value=$scope.aceEditor.getSession().getValue(),$scope.markdownCtrl.setTextAreaValue(value)},$scope.surroundSelectionWith=function(options){var emptyText,newlines,noSelection,post,pre,selectedText,selectionRange;return pre=options.pre,post=options.post,emptyText=options.emptyText,null==emptyText&&(emptyText=""),null==pre&&(pre=""),null==post&&(post=""),selectionRange=$scope.aceEditor.getSelectionRange(),selectedText=$scope.aceEditor.session.getTextRange(selectionRange),noSelection=""===selectedText,noSelection&&(selectedText=emptyText),$scope.aceEditor.insert(""+pre+selectedText+post),noSelection&&(newlines=pre.split("\n").length-1,selectionRange.start.row+=newlines,selectionRange.end.row=selectionRange.start.row,selectionRange.start.column+=pre.length-newlines,selectionRange.end.column+=pre.length-newlines+emptyText.length,$scope.aceEditor.getSelection().setSelectionRange(selectionRange)),$scope.aceEditor.focus()}},link:function(scope,element,attrs,markdownCtrl){var session;scope.markdownCtrl=markdownCtrl,scope.aceEditor=ace.edit(element[0]),scope.aceEditor.setHighlightActiveLine(!1),scope.aceEditor.setShowPrintMargin(!1),scope.aceEditor.renderer.setShowGutter(!1),session=scope.aceEditor.getSession(),session.setMode("ace/mode/markdown"),session.setUseWrapMode(!0),session.setUseSoftTabs(!0),scope.aceEditor.on("change",function(){return scope.onChange()}),markdownCtrl.setEditor(scope)}}}).directive("djangoCradminAcemarkdownTool",function(){return{require:"^djangoCradminAcemarkdown",restrict:"A",scope:{config:"=djangoCradminAcemarkdownTool"},link:function(scope,element,attr,markdownCtrl){element.on("click",function(e){return e.preventDefault(),markdownCtrl.editorSurroundSelectionWith(scope.config)})}}}).directive("djangoCradminAcemarkdownLink",["$window",function($window){return{require:"^djangoCradminAcemarkdown",restrict:"A",scope:{config:"=djangoCradminAcemarkdownLink"},link:function(scope,element,attr,markdownCtrl){element.on("click",function(e){var url;return e.preventDefault(),url=$window.prompt(scope.config.help,""),null!=url?markdownCtrl.editorSurroundSelectionWith({pre:"[",post:"]("+url+")",emptyText:scope.config.emptyText}):void 0})}}}]).directive("djangoCradminAcemarkdownTextarea",function(){return{require:"^djangoCradminAcemarkdown",restrict:"A",scope:{},controller:function($scope){$scope.getValue=function(){return $scope.textarea.val()},$scope.setValue=function(value){return $scope.getValue()!==value?$scope.textarea.val(value):void 0}},link:function(scope,element,attrs,markdownCtrl){scope.textarea=element,scope.textarea.addClass("cradmin-acemarkdowntextarea"),scope.textarea.on("focus",function(){return markdownCtrl.focusOnEditor()}),markdownCtrl.setTextarea(scope)}}})}).call(this),function(){angular.module("djangoCradmin.backgroundreplace_element.directives",[]).directive("djangoCradminBgReplaceElementOnPageLoad",["$window","djangoCradminBgReplaceElement",function($window,djangoCradminBgReplaceElement){return{restrict:"A",controller:function($scope,$element){},link:function($scope,$element,attributes){var remoteElementSelector,remoteUrl;remoteElementSelector=attributes.djangoCradminRemoteElementSelector,remoteUrl=attributes.djangoCradminRemoteUrl,null==remoteElementSelector&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("You must include the 'django-cradmin-remote-element-id' attribute."),null==remoteUrl&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("You must include the 'django-cradmin-remote-url' attribute."),angular.element(document).ready(function(){return console.log("load",remoteUrl,remoteElementSelector),djangoCradminBgReplaceElement.load({parameters:{method:"GET",url:remoteUrl},remoteElementSelector:remoteElementSelector,targetElement:$element,$scope:$scope,replace:!0,onHttpError:function(response){return console.log("ERROR",response)},onSuccess:function(){return console.log("Success!")},onFinish:function(){return console.log("Finish!")}})})}}}])}.call(this),function(){var __bind=function(fn,me){return function(){return fn.apply(me,arguments)}};angular.module("djangoCradmin.backgroundreplace_element.providers",[]).provider("djangoCradminBgReplaceElement",function(){var BgReplace;return BgReplace=function(){function BgReplace($http,$compile,$rootScope){this.updateTargetElement=__bind(this.updateTargetElement,this),this.http=$http,this.compile=$compile,this.rootScope=$rootScope}return BgReplace.prototype.loadUrlAndExtractRemoteElementHtml=function(options,onSuccess){var parsedUrl,url;return url=options.parameters.url,parsedUrl=URI(url),parsedUrl.setSearch("cradmin-bgreplaced","true"),options.parameters.url=parsedUrl.toString(),this.http(options.parameters).then(function(response){var $remoteHtmlDocument,html,remoteElement,remoteElementInnerHtml;return html=response.data,$remoteHtmlDocument=angular.element(html),remoteElement=$remoteHtmlDocument.find(options.remoteElementSelector),remoteElementInnerHtml=remoteElement.html(),onSuccess(remoteElementInnerHtml,$remoteHtmlDocument)},function(response){return null!=options.onFinish&&options.onFinish(),null!=options.onHttpError?options.onHttpError(response):"undefined"!=typeof console&&null!==console&&"function"==typeof console.error?console.error("Failed to load",options.parameters):void 0})},BgReplace.prototype.__removeElement=function($element){var $childElement,childDomElement,isolatedScope,_i,_len,_ref;for(_ref=$element.children(),_i=0,_len=_ref.length;_len>_i;_i++)childDomElement=_ref[_i],$childElement=angular.element(childDomElement),this.__removeElement($childElement);return isolatedScope=$element.isolateScope(),null!=isolatedScope&&isolatedScope.$destroy(),$element.remove()},BgReplace.prototype.__removeAllChildren=function($element){var $childElement,childDomElement,_i,_len,_ref,_results;for(_ref=$element.children(),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)childDomElement=_ref[_i],$childElement=angular.element(childDomElement),_results.push(this.__removeElement($childElement));return _results},BgReplace.prototype.updateTargetElement=function(options,remoteElementInnerHtml,$remoteHtmlDocument){var $compile,linkingFunction,loadedElement;return options.replace&&this.__removeAllChildren(options.targetElement),$compile=this.compile,linkingFunction=$compile(remoteElementInnerHtml),loadedElement=linkingFunction(options.$scope),options.targetElement.append(loadedElement),null!=options.onFinish&&options.onFinish(),options.onSuccess&&options.onSuccess($remoteHtmlDocument),this.rootScope.$broadcast("djangoCradminBgReplaceElementEvent",options)},BgReplace.prototype.load=function(options){var me;return me=this,this.loadUrlAndExtractRemoteElementHtml(options,function(remoteElementInnerHtml,$remoteHtmlDocument){return me.updateTargetElement(options,remoteElementInnerHtml,$remoteHtmlDocument)})},BgReplace}(),this.$get=["$http","$compile","$rootScope",function($http,$compile,$rootScope){return new BgReplace($http,$compile,$rootScope)}],this})}.call(this),function(){angular.module("djangoCradmin.bulkfileupload",["angularFileUpload","ngCookies"]).provider("cradminBulkfileuploadCoordinator",function(){var FileUploadCoordinator;return FileUploadCoordinator=function(){function FileUploadCoordinator($window){this.hiddenfieldnameToScopeMap={},this.window=$window}return FileUploadCoordinator.prototype.register=function(hiddenfieldname,scope){var existingScope;return existingScope=this.hiddenfieldnameToScopeMap[hiddenfieldname],null!=existingScope?void console.error("Trying to register a fieldname that is already registered with cradminBulkfileuploadCoordinator. Fieldname:",hiddenfieldname):this.hiddenfieldnameToScopeMap[hiddenfieldname]=scope},FileUploadCoordinator.prototype.unregister=function(hiddenfieldname){var scope;return scope=this.hiddenfieldnameToScopeMap[hiddenfieldname],null==scope&&console.error("Trying to unregister a field that is not registered with cradminBulkfileuploadCoordinator. Fieldname:",hiddenfieldname),this.hiddenfieldnameToScopeMap[hiddenfieldname]=void 0},FileUploadCoordinator.prototype._getScope=function(hiddenfieldname){var scope;return scope=this.hiddenfieldnameToScopeMap[hiddenfieldname],null==scope&&console.error("Trying to get a field that is not registered with cradminBulkfileuploadCoordinator. Fieldname:",hiddenfieldname),scope},FileUploadCoordinator.prototype.showOverlayForm=function(hiddenfieldname){var scope;return scope=this._getScope(hiddenfieldname),scope.formController.showOverlay()},FileUploadCoordinator}(),this.$get=["$window",function($window){return new FileUploadCoordinator($window)}],this}).factory("cradminBulkfileupload",function(){var FileInfo;return FileInfo=function(){function FileInfo(options){this.file=options.file,this.autosubmit=options.autosubmit,this.i18nStrings=options.i18nStrings,this.temporaryfileid=options.temporaryfileid,null!=this.file?this.name=this.file.name:this.name=options.name,this.isRemoving=!1,this.percent=options.percent,options.finished?this.finished=!0:this.finished=!1,options.hasErrors?this.hasErrors=!0:this.hasErrors=!1,this.errors=options.errors}return FileInfo.prototype.markAsIsRemoving=function(){return this.isRemoving=!0},FileInfo.prototype.markAsIsNotRemoving=function(){return this.isRemoving=!1},FileInfo.prototype.updatePercent=function(percent){return this.percent=percent},FileInfo.prototype.finish=function(temporaryfile,singlemode){var index;return this.finished=!0,index=0,this.file=void 0,this.temporaryfileid=temporaryfile.id,this.name=temporaryfile.filename},FileInfo.prototype.setErrors=function(errors){return this.hasErrors=!0,this.errors=errors},FileInfo.prototype.indexOf=function(fileInfo){return this.files.indexOf(fileInfo)},FileInfo.prototype.remove=function(index){return this.files.splice(index,1)},FileInfo}(),{createFileInfo:function(options){return new FileInfo(options)}}}).directive("djangoCradminBulkfileuploadForm",[function(){return{restrict:"AE",scope:{},controller:function($scope){$scope._inProgressCounter=0,$scope._submitButtonScopes=[],$scope._setSubmitButtonsInProgress=function(){var buttonScope,_i,_len,_ref,_results;for(_ref=$scope._submitButtonScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)buttonScope=_ref[_i],_results.push(buttonScope.setNotInProgress());return _results},$scope._setSubmitButtonsNotInProgress=function(){var buttonScope,_i,_len,_ref,_results;for(_ref=$scope._submitButtonScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)buttonScope=_ref[_i],_results.push(buttonScope.setInProgress());return _results},this.addInProgress=function(){return $scope._inProgressCounter+=1,1===$scope._inProgressCounter?$scope._setSubmitButtonsInProgress():void 0},this.removeInProgress=function(){if(0===$scope._inProgressCounter)throw new Error("It should not be possible to get _inProgressCounter below 0");return $scope._inProgressCounter-=1,0===$scope._inProgressCounter?$scope._setSubmitButtonsNotInProgress():void 0},this.addSubmitButtonScope=function(submitButtonScope){return $scope._submitButtonScopes.push(submitButtonScope)},this.addSubmitButtonScope=function(submitButtonScope){return $scope._submitButtonScopes.push(submitButtonScope)},this.registerOverlayControls=function(overlayControlsScope){return $scope._overlayControlsScope=overlayControlsScope},this.registerOverlayUploadingmessageScope=function(overlayUploadingmessageScope){return $scope._overlayUploadingmessageScope=overlayUploadingmessageScope},this.submitForm=function(){return $scope.overlay&&$scope._overlayUploadingmessageScope.onSubmitForm(),$scope.element.submit()},$scope._showOverlay=function(){if($scope.overlay)return $scope.wrapperElement.addClass("django-cradmin-bulkfileupload-overlaywrapper-show");throw new Error('Can only show the overlay if the form has the django-cradmin-bulkfileupload-form-overlay="true" attribute.')},this.showOverlay=function(){return $scope._showOverlay()},this.hideOverlay=function(){if($scope.overlay)return $scope.wrapperElement.removeClass("django-cradmin-bulkfileupload-overlaywrapper-show");throw new Error('Can only hide the overlay if the form has the django-cradmin-bulkfileupload-form-overlay="true" attribute.')}},link:function($scope,element,attr,uploadController){var body;$scope.overlay="true"===attr.djangoCradminBulkfileuploadFormOverlay,$scope.preventWindowDragdrop="false"!==attr.djangoCradminBulkfileuploadFormPreventWindowDragdrop,$scope.openOverlayOnWindowDragdrop="true"===attr.djangoCradminBulkfileuploadFormOpenOverlayOnWindowDragdrop,$scope.element=element,$scope.overlay&&(element.addClass("django-cradmin-bulkfileupload-form-overlay"),body=angular.element("body"),$scope.wrapperElement=angular.element("<div></div>"),$scope.wrapperElement.addClass("django-cradmin-bulkfileupload-overlaywrapper"),$scope.wrapperElement.appendTo(body),element.appendTo($scope.wrapperElement),$scope._overlayControlsScope.element.appendTo($scope.wrapperElement),element.find(".has-error").length>0&&$scope._showOverlay(),$scope.preventWindowDragdrop&&(window.addEventListener("dragover",function(e){return e.preventDefault()},!1),window.addEventListener("drop",function(e){return e.preventDefault()},!1)),window.addEventListener("dragover",function(e){return e.preventDefault(),$scope.wrapperElement.addClass("django-cradmin-bulkfileupload-overlaywrapper-window-dragover"),$scope.openOverlayOnWindowDragdrop?$scope._showOverlay():void 0},!1),window.addEventListener("drop",function(e){return e.preventDefault(),$scope.wrapperElement.removeClass("django-cradmin-bulkfileupload-overlaywrapper-window-dragover")},!1),angular.element("body").on("mouseleave",function(e){return $scope.wrapperElement.removeClass("django-cradmin-bulkfileupload-overlaywrapper-window-dragover")})),element.on("submit",function(evt){return 0!==$scope._inProgressCounter?evt.preventDefault():void 0})}}}]).directive("djangoCradminBulkfileuploadSubmit",[function(){return{require:"^djangoCradminBulkfileuploadForm",restrict:"A",scope:!0,controller:function($scope){return $scope.inProgress=!1,$scope.setInProgress=function(){return $scope.element.prop("disabled",!1),$scope.inProgress=!1},$scope.setNotInProgress=function(){return $scope.element.prop("disabled",!0),$scope.inProgress=!0}},link:function(scope,element,attr,formController){scope.element=element,formController.addSubmitButtonScope(scope)}}}]).directive("djangoCradminBulkfileupload",["$upload","$cookies","cradminDetectize","cradminBulkfileuploadCoordinator",function($upload,$cookies,cradminDetectize,cradminBulkfileuploadCoordinator){return{require:"^djangoCradminBulkfileuploadForm",restrict:"AE",scope:!0,controller:function($scope){var validateSelectedFiles;$scope.collectionid=null,$scope.cradminLastFilesSelectedByUser=[],$scope.fileUploadQueue=[],$scope.firstUploadInProgress=!1,$scope.simpleWidgetScope=null,$scope.advancedWidgetScope=null,$scope.rejectedFilesScope=null,this.setInProgressOrFinishedScope=function(inProgressOrFinishedScope){return $scope.inProgressOrFinishedScope=inProgressOrFinishedScope},this.setFileUploadFieldScope=function(fileUploadFieldScope,fieldname){return $scope.fileUploadFieldScope=fileUploadFieldScope,cradminBulkfileuploadCoordinator.register(fileUploadFieldScope.fieldname,$scope)},this.setSimpleWidgetScope=function(simpleWidgetScope){return $scope.simpleWidgetScope=simpleWidgetScope,$scope._showAppropriateWidget()},this.setAdvancedWidgetScope=function(advancedWidgetScope){return $scope.advancedWidgetScope=advancedWidgetScope,$scope._showAppropriateWidget()},this.setRejectFilesScope=function(rejectedFilesScope){return $scope.rejectedFilesScope=rejectedFilesScope},this.getUploadUrl=function(){return $scope.uploadapiurl},this.getCollectionId=function(){return $scope.collectionid},this.onAdvancedWidgetDragLeave=function(){return $scope.formController.onAdvancedWidgetDragLeave()},$scope._hideUploadWidget=function(){return $scope.simpleWidgetScope.hide(),$scope.advancedWidgetScope.hide()},$scope._showAppropriateWidget=function(){var deviceType;return $scope.advancedWidgetScope&&$scope.simpleWidgetScope?(deviceType=cradminDetectize.device.type,"desktop"===deviceType?($scope.simpleWidgetScope.hide(),$scope.advancedWidgetScope.show()):($scope.advancedWidgetScope.hide(),$scope.simpleWidgetScope.show())):void 0},$scope.filesDropped=function(files,evt,rejectedFiles){return rejectedFiles.length>0?$scope.rejectedFilesScope.setRejectedFiles(rejectedFiles,"invalid_filetype",$scope.i18nStrings):void 0},validateSelectedFiles=function(){var file,filesToUpload,_i,_len,_ref;for(filesToUpload=[],_ref=$scope.cradminLastFilesSelectedByUser,_i=0,_len=_ref.length;_len>_i;_i++)file=_ref[_i],$scope.apiparameters.max_filesize_bytes&&file.size>$scope.apiparameters.max_filesize_bytes?$scope.rejectedFilesScope.addRejectedFile(file,"max_filesize_bytes_exceeded",$scope.i18nStrings):filesToUpload.push(file);return $scope.rejectedFilesScope.hasRejectedFiles()&&$scope.autosubmit?[]:filesToUpload},$scope.$watch("cradminLastFilesSelectedByUser",function(){var file,filesToUpload,_i,_len;if($scope.cradminLastFilesSelectedByUser.length>0){if($scope.rejectedFilesScope.clearRejectedFiles(),filesToUpload=validateSelectedFiles(),filesToUpload.length>0)for($scope.autosubmit&&$scope._hideUploadWidget(),_i=0,_len=filesToUpload.length;_len>_i&&(file=filesToUpload[_i],$scope._addFileToQueue(file),!$scope.apiparameters.singlemode);_i++);return $scope.cradminLastFilesSelectedByUser=[]}}),$scope._addFileToQueue=function(file){var progressFileInfo;return $scope.apiparameters.singlemode&&$scope.inProgressOrFinishedScope.clear(),progressFileInfo=$scope.inProgressOrFinishedScope.addFileInfo({percent:0,file:file,autosubmit:$scope.autosubmit,i18nStrings:$scope.i18nStrings}),$scope.fileUploadQueue.push(progressFileInfo),$scope.firstUploadInProgress?void 0:(null===$scope.collectionid&&($scope.firstUploadInProgress=!0),$scope._processFileUploadQueue())},$scope._onFileUploadComplete=function(successful){return $scope.firstUploadInProgress=!1,$scope.formController.removeInProgress(),$scope.fileUploadQueue.length>0?$scope._processFileUploadQueue():$scope.autosubmit?successful?$scope.formController.submitForm():$scope._showAppropriateWidget():void 0},$scope._processFileUploadQueue=function(){var apidata,progressFileInfo;return progressFileInfo=$scope.fileUploadQueue.shift(),apidata=angular.extend({},$scope.apiparameters,{collectionid:$scope.collectionid}),$scope.formController.addInProgress(),$scope.upload=$upload.upload({url:$scope.uploadapiurl,method:"POST",data:apidata,file:progressFileInfo.file,fileFormDataName:"file",headers:{"X-CSRFToken":$cookies.get("csrftoken"),"Content-Type":"multipart/form-data"}}).progress(function(evt){return progressFileInfo.updatePercent(parseInt(100*evt.loaded/evt.total))}).success(function(data,status,headers,config){return progressFileInfo.finish(data.temporaryfiles[0],$scope.apiparameters.singlemode),$scope._setCollectionId(data.collectionid),$scope._onFileUploadComplete(!0)}).error(function(data,status){return console.log(data),503===status?progressFileInfo.setErrors({file:[{message:$scope.errormessage503}]}):progressFileInfo.setErrors(data),$scope.inProgressOrFinishedScope.removeFileInfo(progressFileInfo),$scope.rejectedFilesScope.addRejectedFileInfo(progressFileInfo),$scope._onFileUploadComplete(!1)})},$scope._setCollectionId=function(collectionid){return $scope.collectionid=collectionid,$scope.fileUploadFieldScope.setCollectionId(collectionid)}},link:function($scope,element,attributes,formController){var options;options=angular.fromJson(attributes.djangoCradminBulkfileupload),$scope.uploadapiurl=options.uploadapiurl,$scope.apiparameters=options.apiparameters,$scope.errormessage503=options.errormessage503,$scope.autosubmit=options.autosubmit,$scope.i18nStrings={close_errormessage_label:options.close_errormessage_label,remove_file_label:options.remove_file_label,removing_file_message:options.removing_file_message},$scope.formController=formController,$scope.$on("$destroy",function(){return null!=$scope.fileUploadFieldScope?cradminBulkfileuploadCoordinator.unregister($scope.fileUploadFieldScope.fieldname):void 0})}}}]).directive("djangoCradminBulkfileuploadRejectedFiles",["cradminBulkfileupload",function(cradminBulkfileupload){return{restrict:"A",require:"^djangoCradminBulkfileupload",templateUrl:"bulkfileupload/rejectedfiles.tpl.html",transclude:!0,scope:{errorMessageMap:"=djangoCradminBulkfileuploadRejectedFiles"},controller:function($scope){return $scope.rejectedFiles=[],$scope.clearRejectedFiles=function(){return $scope.rejectedFiles=[]},$scope.addRejectedFileInfo=function(fileInfo,errormessagecode){return $scope.rejectedFiles.push(fileInfo)},$scope.addRejectedFile=function(file,errormessagecode,i18nStrings){return $scope.addRejectedFileInfo(cradminBulkfileupload.createFileInfo({file:file,hasErrors:!0,i18nStrings:i18nStrings,errors:{files:[{message:$scope.errorMessageMap[errormessagecode]}]}}))},$scope.hasRejectedFiles=function(){return $scope.rejectedFiles.length>0},$scope.setRejectedFiles=function(rejectedFiles,errormessagecode,i18nStrings){var file,_i,_len,_results;for($scope.clearRejectedFiles(),_results=[],_i=0,_len=rejectedFiles.length;_len>_i;_i++)file=rejectedFiles[_i],_results.push($scope.addRejectedFile(file,errormessagecode,i18nStrings));return _results},$scope.closeMessage=function(fileInfo){var index;return index=$scope.rejectedFiles.indexOf(fileInfo),-1!==index?$scope.rejectedFiles.splice(index,1):void 0}},link:function(scope,element,attr,bulkfileuploadController){bulkfileuploadController.setRejectFilesScope(scope)}}}]).directive("djangoCradminBulkfileuploadProgress",["cradminBulkfileupload","$http","$cookies",function(cradminBulkfileupload,$http,$cookies){return{restrict:"AE",require:"^djangoCradminBulkfileupload",templateUrl:"bulkfileupload/progress.tpl.html",scope:{},controller:function($scope){$scope.fileInfoArray=[],$scope.removeFileInfo=function(fileInfo){var fileInfoIndex;if(fileInfoIndex=$scope.fileInfoArray.indexOf(fileInfo),-1!==fileInfoIndex)return $scope.fileInfoArray.splice(fileInfoIndex,1);throw new Error("Could not find requested fileInfo with temporaryfileid="+fileInfo.temporaryfileid+".")},this.removeFile=function(fileInfo){if(null==fileInfo.temporaryfileid)throw new Error("Can not remove files without a temporaryfileid");return fileInfo.markAsIsRemoving(),$scope.$apply(),$http({url:$scope.uploadController.getUploadUrl(),method:"DELETE",headers:{"X-CSRFToken":$cookies.get("csrftoken")},data:{collectionid:$scope.uploadController.getCollectionId(),temporaryfileid:fileInfo.temporaryfileid}}).success(function(data,status,headers,config){return $scope.removeFileInfo(fileInfo)}).error(function(data,status,headers,config){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("ERROR",data),alert("An error occurred while removing the file. Please try again."),fileInfo.markAsIsNotRemoving()})},$scope.addFileInfo=function(options){var fileInfo;return fileInfo=cradminBulkfileupload.createFileInfo(options),$scope.fileInfoArray.push(fileInfo),fileInfo},$scope.clear=function(options){return $scope.fileInfoArray=[]},$scope.clearErrors=function(){var fileInfo,index,_i,_ref,_results;for(_results=[],index=_i=_ref=$scope.fileInfoArray.length-1;_i>=0;index=_i+=-1)fileInfo=$scope.fileInfoArray[index],fileInfo.hasErrors?_results.push($scope.fileInfoArray.splice(index,1)):_results.push(void 0);return _results}},link:function(scope,element,attr,uploadController){scope.uploadController=uploadController,uploadController.setInProgressOrFinishedScope(scope)}}}]).directive("djangoCradminBulkFileInfo",[function(){return{restrict:"AE",scope:{fileInfo:"=djangoCradminBulkFileInfo"},templateUrl:"bulkfileupload/fileinfo.tpl.html",transclude:!0,controller:function($scope){this.close=function(){return $scope.element.remove()}},link:function(scope,element,attr){scope.element=element}}}]).directive("djangoCradminBulkfileuploadErrorCloseButton",[function(){return{restrict:"A",require:"^djangoCradminBulkFileInfo",scope:{},link:function(scope,element,attr,fileInfoController){element.on("click",function(evt){return evt.preventDefault(),fileInfoController.close()})}}}]).directive("djangoCradminBulkfileuploadRemoveFileButton",[function(){return{restrict:"A",require:"^djangoCradminBulkfileuploadProgress",scope:{fileInfo:"=djangoCradminBulkfileuploadRemoveFileButton"},link:function(scope,element,attr,progressController){element.on("click",function(evt){return evt.preventDefault(),progressController.removeFile(scope.fileInfo)})}}}]).directive("djangoCradminBulkfileuploadCollectionidField",[function(){return{require:"^djangoCradminBulkfileupload",restrict:"AE",scope:{},controller:function($scope){$scope.setCollectionId=function(collectionid){return $scope.element.val(""+collectionid)}},link:function(scope,element,attr,uploadController){scope.element=element,scope.fieldname=attr.name,uploadController.setFileUploadFieldScope(scope)}}}]).directive("djangoCradminBulkfileuploadAdvancedWidget",["$timeout",function($timeout){return{require:"^djangoCradminBulkfileupload",restrict:"AE",scope:{},link:function(scope,element,attr,uploadController){scope.hide=function(){return element.css("display","none")},scope.show=function(){return element.css("display","block")},uploadController.setAdvancedWidgetScope(scope)}}}]).directive("djangoCradminBulkfileuploadSimpleWidget",[function(){return{require:"^djangoCradminBulkfileupload",restrict:"AE",scope:{},link:function(scope,element,attr,uploadController){scope.hide=function(){return element.css("display","none")},scope.show=function(){return element.css("display","block")},uploadController.setSimpleWidgetScope(scope)}}}]).directive("djangoCradminBulkfileuploadShowOverlay",["cradminBulkfileuploadCoordinator",function(cradminBulkfileuploadCoordinator){return{restrict:"AE",scope:{hiddenfieldname:"@djangoCradminBulkfileuploadShowOverlay"},link:function($scope,element,attr){element.on("click",function(){return cradminBulkfileuploadCoordinator.showOverlayForm($scope.hiddenfieldname)})}}}]).directive("djangoCradminBulkfileuploadHideOverlay",[function(){return{restrict:"AE",require:"^djangoCradminBulkfileuploadForm",scope:{hiddenfieldname:"@djangoCradminBulkfileuploadHideOverlay"},link:function($scope,element,attr,uploadFormController){element.on("click",function(){return uploadFormController.hideOverlay()})}}}]).directive("djangoCradminBulkfileuploadOverlayControls",[function(){return{restrict:"AE",require:"^djangoCradminBulkfileuploadForm",scope:{},link:function($scope,element,attr,uploadFormController){$scope.element=element,uploadFormController.registerOverlayControls($scope)}}}]).directive("djangoCradminBulkfileuploadOverlayUploadingmessage",[function(){return{restrict:"AE",require:"^djangoCradminBulkfileuploadForm",scope:{},controller:function($scope){$scope.onSubmitForm=function(){return $scope.element.addClass("django-cradmin-bulkfileupload-overlay-uploadingmessage-visible")}},link:function($scope,element,attr,uploadFormController){$scope.element=element,uploadFormController.registerOverlayUploadingmessageScope($scope)}}}])}.call(this),function(){var app;app=angular.module("djangoCradmin.calendar.providers",[]),app.provider("djangoCradminCalendarApi",function(){var CalendarCoordinator,CalendarDay,CalendarMonth,CalendarWeek,Month,MonthlyCalendarCoordinator,getWeekdaysShortForCurrentLocale;return getWeekdaysShortForCurrentLocale=function(){var firstDayOfWeek,index,weekday,weekdays,weekdaysWithSundayFirst,_i,_ref;for(weekdays=[],weekdaysWithSundayFirst=moment.weekdaysShort(),firstDayOfWeek=moment.localeData().firstDayOfWeek(),index=_i=firstDayOfWeek,_ref=firstDayOfWeek+6;_ref>=firstDayOfWeek?_ref>=_i:_i>=_ref;index=_ref>=firstDayOfWeek?++_i:--_i)index>6&&(index=Math.abs(7-index)),weekday=weekdaysWithSundayFirst[index],weekdays.push(weekday);return weekdays},Month=function(){function Month(firstDayOfMonth){this.firstDayOfMonth=firstDayOfMonth,this.lastDayOfMonth=this.firstDayOfMonth.clone().add({days:this.firstDayOfMonth.daysInMonth()-1})}return Month.prototype.getDaysInMonth=function(){return this.firstDayOfMonth.daysInMonth()},Month}(),CalendarDay=function(){function CalendarDay(momentObject,isInCurrentMonth,isDisabled,nowMomentObject){this.momentObject=momentObject,this.isInCurrentMonth=isInCurrentMonth,this.nowMomentObject=nowMomentObject,this._isDisabled=isDisabled}return CalendarDay.prototype.getNumberInMonth=function(){return this.momentObject.format("D")},CalendarDay.prototype.isToday=function(){return this.momentObject.isSame(this.nowMomentObject,"day")},CalendarDay.prototype.isDisabled=function(){return this._isDisabled},CalendarDay}(),CalendarWeek=function(){function CalendarWeek(){this.calendarDays=[]}return CalendarWeek.prototype.addDay=function(calendarDay){return this.calendarDays.push(calendarDay)},CalendarWeek.prototype.getDayCount=function(){return this.calendarDays.length},CalendarWeek.prototype.prettyOneLineFormat=function(){var calendarDay,formattedDay,formattedDays,_i,_len,_ref;for(formattedDays=[],_ref=this.calendarDays,_i=0,_len=_ref.length;_len>_i;_i++)calendarDay=_ref[_i],formattedDay=calendarDay.momentObject.format("DD"),formattedDay=calendarDay.isInCurrentMonth?" "+formattedDay+" ":"("+formattedDay+")",formattedDays.push(formattedDay);return formattedDays.join(" ")},CalendarWeek}(),CalendarMonth=function(){function CalendarMonth(calendarCoordinator,momentObject){this.calendarCoordinator=calendarCoordinator,this.changeMonth(momentObject)}return CalendarMonth.prototype.changeMonth=function(momentObject){var firstDayOfMonthMomentObject;return firstDayOfMonthMomentObject=momentObject.clone().set({date:1,hour:0,minute:0,second:0,millisecond:0}),this.month=new Month(firstDayOfMonthMomentObject),this.calendarWeeks=[new CalendarWeek],this.currentWeekIndex=0,this.daysPerWeek=7,this.totalWeeks=6,this.currentDayCount=0,this.lastDay=null,this.__build()},CalendarMonth.prototype.__buildPrefixedDays=function(){var index,momentObject,_i,_ref,_results;if(this.month.firstDayOfMonth.weekday()>0){for(_results=[],index=_i=_ref=this.month.firstDayOfMonth.weekday();1>=_ref?1>=_i:_i>=1;index=1>=_ref?++_i:--_i)momentObject=this.month.firstDayOfMonth.clone().subtract({days:index}),_results.push(this.__addMomentObject(momentObject,!1));return _results}},CalendarMonth.prototype.__buildSuffixedDays=function(){var momentObject,totalDayCount,_results;
for(totalDayCount=this.totalWeeks*this.daysPerWeek,_results=[];this.currentDayCount<totalDayCount;)momentObject=this.lastDay.momentObject.clone().add({days:1}),_results.push(this.__addMomentObject(momentObject,!1));return _results},CalendarMonth.prototype.__buildDaysBelongingInMonth=function(){var dayIndex,momentObject,_i,_ref,_results;for(_results=[],dayIndex=_i=1,_ref=this.month.getDaysInMonth();_ref>=1?_ref>=_i:_i>=_ref;dayIndex=_ref>=1?++_i:--_i)momentObject=this.month.firstDayOfMonth.clone().date(dayIndex),_results.push(this.__addMomentObject(momentObject,!0));return _results},CalendarMonth.prototype.__build=function(momentFirstDayOfMonth){return this.__buildPrefixedDays(),this.__buildDaysBelongingInMonth(),this.__buildSuffixedDays()},CalendarMonth.prototype.__addMomentObject=function(momentObject,isInCurrentMonth){var calendarDay,isDisabled,week;return week=this.calendarWeeks[this.currentWeekIndex],week.getDayCount()>=this.daysPerWeek&&(this.calendarWeeks.push(new CalendarWeek),this.currentWeekIndex+=1,week=this.calendarWeeks[this.currentWeekIndex]),isDisabled=!this.calendarCoordinator.momentObjectIsAllowed(momentObject),calendarDay=new CalendarDay(momentObject,isInCurrentMonth,isDisabled,this.calendarCoordinator.nowMomentObject),week.addDay(calendarDay),this.currentDayCount+=1,this.lastDay=calendarDay},CalendarMonth.prototype.prettyprint=function(){var rowFormatted,week,_i,_len,_ref,_results;for(_ref=this.calendarWeeks,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)week=_ref[_i],rowFormatted=[],_results.push("undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(week.prettyOneLineFormat()):void 0);return _results},CalendarMonth}(),CalendarCoordinator=function(){function CalendarCoordinator(_arg){this.selectedMomentObject=_arg.selectedMomentObject,this.minimumDatetime=_arg.minimumDatetime,this.maximumDatetime=_arg.maximumDatetime,this.nowMomentObject=_arg.nowMomentObject,null!=this.selectedMomentObject?this.shownMomentObject=this.selectedMomentObject.clone():(this.setToNow(),this.momentObjectIsAllowed(this.shownMomentObject)||(this.shownMomentObject=this.minimumDatetime.clone()))}return CalendarCoordinator.prototype.selectShownValue=function(){return this.selectedMomentObject=this.shownMomentObject.clone()},CalendarCoordinator.prototype.clearSelectedMomentObject=function(){return this.selectedMomentObject=null},CalendarCoordinator.prototype.momentObjectIsAllowed=function(momentObject,ignoreTime){var isAllowed,maximumDatetime,minimumDatetime;return null==ignoreTime&&(ignoreTime=!0),isAllowed=!0,null!=this.minimumDatetime&&(minimumDatetime=this.minimumDatetime,ignoreTime&&(minimumDatetime=minimumDatetime.clone().set({hour:0,minute:0,second:0})),isAllowed=!momentObject.isBefore(minimumDatetime)),isAllowed&&null!=this.maximumDatetime&&(maximumDatetime=this.maximumDatetime,ignoreTime&&(maximumDatetime=maximumDatetime.clone().set({hour:23,minute:59,second:59})),isAllowed=!momentObject.isAfter(maximumDatetime)),isAllowed},CalendarCoordinator.prototype.todayIsValidValue=function(){return this.momentObjectIsAllowed(this.nowMomentObject)},CalendarCoordinator.prototype.nowIsValidValue=function(){return this.momentObjectIsAllowed(this.nowMomentObject,!1)},CalendarCoordinator.prototype.shownDateIsToday=function(){return this.shownMomentObject.isSame(this.nowMomentObject,"day")},CalendarCoordinator.prototype.shownDateIsTodayAndNowIsValid=function(){return this.shownDateIsToday()&&this.nowIsValidValue()},CalendarCoordinator.prototype.setToNow=function(){return this.shownMomentObject=this.nowMomentObject.clone()},CalendarCoordinator}(),MonthlyCalendarCoordinator=function(){function MonthlyCalendarCoordinator(_arg){this.calendarCoordinator=_arg.calendarCoordinator,this.yearselectValues=_arg.yearselectValues,this.hourselectValues=_arg.hourselectValues,this.minuteselectValues=_arg.minuteselectValues,this.yearFormat=_arg.yearFormat,this.monthFormat=_arg.monthFormat,this.dayOfMonthSelectFormat=_arg.dayOfMonthSelectFormat,this.dayOfMonthTableCellFormat=_arg.dayOfMonthTableCellFormat,this.hourFormat=_arg.hourFormat,this.minuteFormat=_arg.minuteFormat,this.dayobjects=null,this.__initWeekdays(),this.__initMonthObjects(),this.__initYearObjects(),this.__initHourObjects(),this.__initMinuteObjects(),this.__changeSelectedDate()}return MonthlyCalendarCoordinator.prototype.__sortConfigObjectsByValue=function(configObjects){var compareFunction;return compareFunction=function(a,b){return a.value<b.value?-1:a.value>b.value?1:0},configObjects.sort(compareFunction)},MonthlyCalendarCoordinator.prototype.__initWeekdays=function(){return this.shortWeekdays=getWeekdaysShortForCurrentLocale()},MonthlyCalendarCoordinator.prototype.__initYearObjects=function(){var formatMomentObject,hasSelectedYearValue,label,selectedYearValue,year,yearConfig,_i,_len,_ref;for(selectedYearValue=this.calendarCoordinator.shownMomentObject.year(),hasSelectedYearValue=!1,formatMomentObject=this.calendarCoordinator.shownMomentObject.clone().set({month:0,date:0,hour:0,minute:0,second:0}),this.__yearsMap={},this.yearselectConfig=[],_ref=this.yearselectValues,_i=0,_len=_ref.length;_len>_i;_i++)year=_ref[_i],label=formatMomentObject.set({year:year}).format(this.yearFormat),yearConfig={value:year,label:label},this.yearselectConfig.push(yearConfig),this.__yearsMap[year]=yearConfig,year===selectedYearValue&&(hasSelectedYearValue=!0);return hasSelectedYearValue?void 0:(label=formatMomentObject.set({year:selectedYearValue}).format(this.yearFormat),yearConfig={value:selectedYearValue,label:label},this.yearselectConfig.push(yearConfig),this.__yearsMap[yearConfig.value]=yearConfig,this.__sortConfigObjectsByValue(this.yearselectConfig))},MonthlyCalendarCoordinator.prototype.__initMonthObjects=function(){var formatMomentObject,label,monthObject,monthnumber,_i,_results;for(this.monthselectConfig=[],this.__monthsMap={},formatMomentObject=this.calendarCoordinator.shownMomentObject.clone().set({month:0,date:0,hour:0,minute:0,second:0}),_results=[],monthnumber=_i=0;11>=_i;monthnumber=++_i)label=formatMomentObject.set({month:monthnumber}).format(this.monthFormat),monthObject={value:monthnumber,label:label},this.monthselectConfig.push(monthObject),_results.push(this.__monthsMap[monthnumber]=monthObject);return _results},MonthlyCalendarCoordinator.prototype.__initHourObjects=function(){var formatMomentObject,hasSelectedHourValue,hour,hourConfig,label,selectedHourValue,_i,_len,_ref;for(selectedHourValue=this.calendarCoordinator.shownMomentObject.hour(),hasSelectedHourValue=!1,formatMomentObject=this.calendarCoordinator.shownMomentObject.clone().set({minute:0,second:0}),this.__hoursMap={},this.hourselectConfig=[],_ref=this.hourselectValues,_i=0,_len=_ref.length;_len>_i;_i++)hour=_ref[_i],label=formatMomentObject.set({hour:hour}).format(this.hourFormat),hourConfig={value:hour,label:label},this.hourselectConfig.push(hourConfig),this.__hoursMap[hourConfig.value]=hourConfig,hourConfig.value===selectedHourValue&&(hasSelectedHourValue=!0);return hasSelectedHourValue?void 0:(label=formatMomentObject.set({hour:selectedHourValue}).format(this.hourFormat),hourConfig={value:selectedHourValue,label:label},this.hourselectConfig.push(hourConfig),this.__hoursMap[hourConfig.value]=hourConfig,this.__sortConfigObjectsByValue(this.hourselectConfig))},MonthlyCalendarCoordinator.prototype.__initMinuteObjects=function(){var formatMomentObject,hasSelectedMinuteValue,label,minute,minuteConfig,selectedMinuteValue,_i,_len,_ref;for(selectedMinuteValue=this.calendarCoordinator.shownMomentObject.minute(),hasSelectedMinuteValue=!1,formatMomentObject=this.calendarCoordinator.shownMomentObject.clone().set({second:0}),this.__minutesMap={},this.minuteselectConfig=[],_ref=this.minuteselectValues,_i=0,_len=_ref.length;_len>_i;_i++)minute=_ref[_i],label=formatMomentObject.set({minute:minute}).format(this.minuteFormat),minuteConfig={value:minute,label:label},this.minuteselectConfig.push(minuteConfig),this.__minutesMap[minuteConfig.value]=minuteConfig,minuteConfig.value===selectedMinuteValue&&(hasSelectedMinuteValue=!0);return hasSelectedMinuteValue?void 0:(label=formatMomentObject.set({minute:selectedMinuteValue}).format(this.minuteFormat),minuteConfig={value:selectedMinuteValue,label:label},this.minuteselectConfig.push(minuteConfig),this.__minutesMap[minuteConfig.value]=minuteConfig,this.__sortConfigObjectsByValue(this.minuteselectConfig))},MonthlyCalendarCoordinator.prototype.__setCurrentYear=function(){var currentYearNumber;return currentYearNumber=this.calendarMonth.month.firstDayOfMonth.year(),this.currentYearObject=this.__yearsMap[currentYearNumber],null==this.currentYearObject&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn("The given year, "+currentYearNumber+" is not one of the available choices"):void 0},MonthlyCalendarCoordinator.prototype.__setCurrentMonth=function(){var currentMonthNumber;return currentMonthNumber=this.calendarMonth.month.firstDayOfMonth.month(),this.currentMonthObject=this.__monthsMap[currentMonthNumber],null==this.currentMonthObject&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn("The given month number, "+currentMonthNumber+" is not one of the available choices"):void 0},MonthlyCalendarCoordinator.prototype.__setCurrentHour=function(){var currentHourNumber;return currentHourNumber=this.calendarCoordinator.shownMomentObject.hour(),this.currentHourObject=this.__hoursMap[currentHourNumber],null==this.currentHourObject&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn("The given hour, "+currentHourNumber+" is not one of the available choices"):void 0},MonthlyCalendarCoordinator.prototype.__setCurrentMinute=function(){var currentMinuteNumber;return currentMinuteNumber=this.calendarCoordinator.shownMomentObject.minute(),this.currentMinuteObject=this.__minutesMap[currentMinuteNumber],null==this.currentMinuteObject&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn("The given minute, "+currentMinuteNumber+" is not one of the available choices"):void 0},MonthlyCalendarCoordinator.prototype.__updateDayObjects=function(){var dayNumberObject,daynumber,formatMomentObject,label,_i,_ref,_results;for(formatMomentObject=this.calendarCoordinator.shownMomentObject.clone().set({hour:0,minute:0,second:0}),this.dayobjects=[],_results=[],daynumber=_i=1,_ref=this.calendarMonth.month.getDaysInMonth();_ref>=1?_ref>=_i:_i>=_ref;daynumber=_ref>=1?++_i:--_i)label=formatMomentObject.set({date:daynumber}).format(this.dayOfMonthSelectFormat),dayNumberObject={value:daynumber,label:label},_results.push(this.dayobjects.push(dayNumberObject));return _results},MonthlyCalendarCoordinator.prototype.__changeSelectedDate=function(){return this.calendarMonth=new CalendarMonth(this.calendarCoordinator,this.calendarCoordinator.shownMomentObject),this.__setCurrentYear(),this.__setCurrentMonth(),this.__setCurrentHour(),this.__setCurrentMinute(),this.__updateDayObjects(),this.currentDayObject=this.dayobjects[this.calendarCoordinator.shownMomentObject.date()-1]},MonthlyCalendarCoordinator.prototype.handleDayChange=function(momentObject){return this.calendarCoordinator.shownMomentObject=momentObject.clone().set({hour:this.currentHourObject.value,minute:this.currentMinuteObject.value}),this.__changeSelectedDate()},MonthlyCalendarCoordinator.prototype.handleCurrentDayObjectChange=function(){var momentObject;return momentObject=moment({year:this.currentYearObject.value,month:this.currentMonthObject.value,day:this.currentDayObject.value}),this.handleDayChange(momentObject)},MonthlyCalendarCoordinator.prototype.handleCalendarDayChange=function(calendarDay){return this.handleDayChange(calendarDay.momentObject)},MonthlyCalendarCoordinator.prototype.handleCurrentMonthChange=function(){return this.calendarCoordinator.shownMomentObject.set({month:this.currentMonthObject.value}),this.__changeSelectedDate()},MonthlyCalendarCoordinator.prototype.handleCurrentYearChange=function(){return this.calendarCoordinator.shownMomentObject.set({year:this.currentYearObject.value}),this.__changeSelectedDate()},MonthlyCalendarCoordinator.prototype.handleCurrentHourChange=function(){return this.calendarCoordinator.shownMomentObject.set({hour:this.currentHourObject.value}),this.__changeSelectedDate()},MonthlyCalendarCoordinator.prototype.handleCurrentMinuteChange=function(){return this.calendarCoordinator.shownMomentObject.set({minute:this.currentMinuteObject.value}),this.__changeSelectedDate()},MonthlyCalendarCoordinator.prototype.handleFocusOnCalendarDay=function(calendarDay){return this.lastFocusedMomentObject=calendarDay.momentObject},MonthlyCalendarCoordinator.prototype.getLastFocusedMomentObject=function(){return null!=this.lastFocusedMomentObject?this.lastFocusedMomentObject:this.calendarCoordinator.shownMomentObject},MonthlyCalendarCoordinator.prototype.getDayOfMonthLabelForTableCell=function(calendarDay){return calendarDay.momentObject.format(this.dayOfMonthTableCellFormat)},MonthlyCalendarCoordinator.prototype.setToToday=function(){return this.handleDayChange(this.calendarCoordinator.nowMomentObject.clone())},MonthlyCalendarCoordinator}(),this.$get=function(){return{MonthlyCalendarCoordinator:MonthlyCalendarCoordinator,CalendarCoordinator:CalendarCoordinator}},this})}.call(this),function(){angular.module("djangoCradmin.collapse",[]).directive("djangoCradminCollapse",[function(){return{scope:!0,controller:function($scope){$scope.contentHidden=!0,$scope.toggleContentVisible=function(){return $scope.contentHidden=!$scope.contentHidden}},link:function($scope,$element,attrs){return $scope.contentHidden="visible"!==attrs.initialState}}}])}.call(this),function(){angular.module("djangoCradmin.directives",[]).directive("djangoCradminBack",function(){return{restrict:"A",link:function(scope,element,attrs){element.on("click",function(){return history.back(),scope.$apply()})}}}).directive("djangoCradminFormAction",function(){return{restrict:"A",scope:{value:"=djangoCradminFormAction"},controller:function($scope){$scope.$watch("value",function(newValue){return $scope.element.attr("action",newValue)})},link:function(scope,element,attrs){scope.element=element}}}).directive("djangoCradminSelectTextForCopyOnFocus",function(){return{restrict:"A",scope:{valueToCopy:"@djangoCradminSelectTextForCopyOnFocus"},link:function(scope,element,attrs){scope.value=attrs.value,element.on("click",function(){return element.val(scope.valueToCopy),this.select()}),scope.resetValue=function(){return element.val(scope.value)},element.on("change",function(){return scope.resetValue()}),element.on("blur",function(){return scope.resetValue()})}}}).directive("focusonme",["$timeout",function($timeout){return{restrict:"A",link:function($scope,$element){$timeout(function(){$element[0].focus()})}}}])}.call(this),function(){var __bind=function(fn,me){return function(){return fn.apply(me,arguments)}};angular.module("djangoCradmin.providers",[]).provider("djangoCradminWindowDimensions",function(){var WindowDimensionsProvider;return WindowDimensionsProvider=function(){function WindowDimensionsProvider($window,timeout){this.timeout=timeout,this._onWindowResize=__bind(this._onWindowResize,this),this.mainWindow=angular.element($window),this.deviceMinWidths={tablet:768,mediumDesktop:992,largeDesktop:1200},this.windowDimensions=this._getWindowDimensions(),this.applyResizeTimer=null,this.applyResizeTimerTimeoutMs=300,this.listeningScopes=[]}return WindowDimensionsProvider.prototype._triggerResizeEventsForScope=function(scope){return scope.onWindowResize(this.windowDimensions)},WindowDimensionsProvider.prototype.register=function(scope){var scopeIndex;return scopeIndex=this.listeningScopes.indexOf(scope),-1!==scopeIndex?void console.error("Trying to register a scope that is already registered with djangoCradminWindowDimensions. Scope:",scope):(this.listeningScopes.length<1&&this.mainWindow.bind("resize",this._onWindowResize),this.listeningScopes.push(scope))},WindowDimensionsProvider.prototype.unregister=function(scope){var scopeIndex;return scopeIndex=this.listeningScopes.indexOf(scope),-1===scopeIndex&&console.error("Trying to unregister a scope that is not registered with djangoCradminWindowDimensions. Scope:",scope),this.listeningScopes.splice(scopeIndex,1),this.listeningScopes.length<1?this.mainWindow.unbind("resize",this._onWindowResize):void 0},WindowDimensionsProvider.prototype._getWindowDimensions=function(){return{height:this.mainWindow.height(),width:this.mainWindow.width()}},WindowDimensionsProvider.prototype.getDeviceFromWindowDimensions=function(windowDimensions){return windowDimensions<this.deviceMinWidths.tablet?"phone":windowDimensions<this.deviceMinWidths.mediumDesktop?"tablet":windowDimensions<this.deviceMinWidths.largeDesktop?"medium-desktop":"large-desktop"},WindowDimensionsProvider.prototype._updateWindowDimensions=function(newWindowDimensions){return this.windowDimensions=newWindowDimensions,this._onWindowDimensionsChange()},WindowDimensionsProvider.prototype._setWindowDimensions=function(){var newWindowDimensions;return newWindowDimensions=this._getWindowDimensions(),angular.equals(newWindowDimensions,this.windowDimensions)?void 0:this._updateWindowDimensions(newWindowDimensions)},WindowDimensionsProvider.prototype._onWindowDimensionsChange=function(){var scope,_i,_len,_ref,_results;for(_ref=this.listeningScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)scope=_ref[_i],_results.push(this._triggerResizeEventsForScope(scope));return _results},WindowDimensionsProvider.prototype.triggerWindowResizeEvent=function(){return this._onWindowDimensionsChange()},WindowDimensionsProvider.prototype._onWindowResize=function(){var _this=this;return this.timeout.cancel(this.applyResizeTimer),this.applyResizeTimer=this.timeout(function(){return _this._setWindowDimensions()},this.applyResizeTimerTimeoutMs)},WindowDimensionsProvider}(),this.$get=["$window","$timeout",function($window,$timeout){return new WindowDimensionsProvider($window,$timeout)}],this}).provider("djangoCradminWindowScrollTop",function(){var WindowScrollProvider;return WindowScrollProvider=function(){function WindowScrollProvider($window,timeout){this.timeout=timeout,this._onScroll=__bind(this._onScroll,this),this.mainWindow=angular.element($window),this.scrollTopPosition=this._getScrollTopPosition(),this.applyScrollTimer=null,this.applyScrollTimerTimeoutMs=50,this.listeningScopes=[],this.isScrolling=!1}return WindowScrollProvider.prototype.register=function(scope){var scopeIndex;return scopeIndex=this.listeningScopes.indexOf(scope),-1!==scopeIndex?void console.error("Trying to register a scope that is already registered with djangoCradminWindowScrollTop. Scope:",scope):(this.listeningScopes.length<1&&this.mainWindow.bind("scroll",this._onScroll),this.listeningScopes.push(scope),scope.onWindowScrollTop(this.scrollTopPosition,!0))},WindowScrollProvider.prototype.unregister=function(scope){var scopeIndex;return scopeIndex=this.listeningScopes.indexOf(scope),-1===scopeIndex&&console.error("Trying to unregister a scope that is not registered with djangoCradminWindowScrollTop. Scope:",scope),this.listeningScopes.splice(scopeIndex,1),this.listeningScopes.length<1?this.mainWindow.unbind("scroll",this._onScroll):void 0},WindowScrollProvider.prototype._getScrollTopPosition=function(){return this.mainWindow.scrollTop()},WindowScrollProvider.prototype._setScrollTopPosition=function(){var scrollTopPosition;return scrollTopPosition=this._getScrollTopPosition(),this.scrollTopPosition=scrollTopPosition,this._onScrollTopChange()},WindowScrollProvider.prototype._onScrollTopChange=function(){var scope,_i,_len,_ref,_results;for(_ref=this.listeningScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)scope=_ref[_i],_results.push(scope.onWindowScrollTop(this.scrollTopPosition));return _results},WindowScrollProvider.prototype._notifyScrollStarted=function(){var scope,scrollTopPosition,_i,_len,_ref,_results;if(scrollTopPosition=this._getScrollTopPosition(),scrollTopPosition!==this.scrollTopPosition){for(_ref=this.listeningScopes,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)scope=_ref[_i],null!=scope.onWindowScrollTopStart?_results.push(scope.onWindowScrollTopStart()):_results.push(void 0);return _results}},WindowScrollProvider.prototype._onScroll=function(){var _this=this;return this.timeout.cancel(this.applyScrollTimer),this.isScrolling||this._notifyScrollStarted(),this.isScrolling=!0,this.applyScrollTimer=this.timeout(function(){return _this._setScrollTopPosition(),_this.isScrolling=!1},this.applyScrollTimerTimeoutMs)},WindowScrollProvider}(),this.$get=["$window","$timeout",function($window,$timeout){return new WindowScrollProvider($window,$timeout)}],this})}.call(this),function(){angular.module("djangoCradmin.detectizr",[]).factory("cradminDetectize",function(){return Detectizr.detect({addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!1}),Detectizr})}.call(this),function(){angular.module("djangoCradmin.forms.clearabletextinput",[]).directive("djangoCradminClearableTextinput",[function(){return{restrict:"A",link:function($scope,$element,attributes){var $target,onTargetValueChange,targetElementSelector;return targetElementSelector=attributes.djangoCradminClearableTextinput,$target=angular.element(targetElementSelector),onTargetValueChange=function(){return""===$target.val()?$element.removeClass("django-cradmin-clearable-textinput-button-visible"):$element.addClass("django-cradmin-clearable-textinput-button-visible")},$element.on("click",function(e){return e.preventDefault(),$target.val(""),$target.focus(),$target.change()}),$target.on("change",function(){return onTargetValueChange()}),$target.on("keydown",function(e){return onTargetValueChange()}),onTargetValueChange()}}}])}.call(this),function(){angular.module("djangoCradmin.forms.clearvalue",[]).directive("djangoCradminClearValue",[function(){return{restrict:"A",link:function($scope,$element,attributes){var $target,targetElementSelector;return targetElementSelector=attributes.djangoCradminClearValue,$target=angular.element(targetElementSelector),$element.on("click",function(e){return e.preventDefault(),$target.val(""),$target.focus(),$target.change()})}}}])}.call(this),function(){var app;app=angular.module("djangoCradmin.forms.datetimewidget",["cfp.hotkeys"]),app.directive("djangoCradminDatetimeSelector",["$timeout","$compile","$rootScope","hotkeys","djangoCradminCalendarApi","djangoCradminWindowDimensions",function($timeout,$compile,$rootScope,hotkeys,djangoCradminCalendarApi,djangoCradminWindowDimensions){return{scope:{config:"=djangoCradminDatetimeSelector"},templateUrl:"forms/dateselector.tpl.html",controller:function($scope,$element){var __addCommonHotkeys,__addPage1Hotkeys,__getFirstFocusableItemInCurrentPage,__getFocusItemAfterHide,__getInitialFocusItemForCurrentPage,__getLastFocusableItemInCurrentPage,__removeHotkeys;return $scope.page=null,$scope.__keyboardNavigation=function(event,direction){var activeElement,lastFocusedElement,newFocusTd,nextSibling,nextTr,previousSibling,previousTr;if(("pageup"===direction||"pagedown"===direction)&&event.preventDefault(),$element.find(".django-cradmin-datetime-selector-table").is(":visible"))if(activeElement=angular.element(document.activeElement),activeElement.hasClass("django-cradmin-datetime-selector-daybuttoncell-button")){if(event.preventDefault(),"right"===direction&&(nextSibling=activeElement.parent().next(),nextSibling.length>0&&(newFocusTd=nextSibling)),"left"===direction&&(previousSibling=activeElement.parent().prev(),previousSibling.length>0&&(newFocusTd=previousSibling)),"up"===direction&&(previousTr=activeElement.parent().parent().prev(),previousTr.length>0&&(newFocusTd=angular.element(previousTr.children().get(activeElement.parent().index())))),"down"===direction&&(nextTr=activeElement.parent().parent().next(),nextTr.length>0&&(newFocusTd=angular.element(nextTr.children().get(activeElement.parent().index())))),null!=newFocusTd&&newFocusTd.length>0&&newFocusTd.find("button").focus(),"home"===direction&&activeElement.parent().parent().parent().find("button:enabled").first().focus(),"end"===direction&&activeElement.parent().parent().parent().find("button:enabled").last().focus(),"pageup"===direction)return $element.find(".django-cradmin-datetime-selector-monthselect").focus()}else if("pagedown"===direction&&activeElement.parent().hasClass("django-cradmin-datetime-selector-dateselectors"))return lastFocusedElement=$element.find(".django-cradmin-datetime-selector-daybuttoncell-lastfocused button"),lastFocusedElement.is(":visible")?lastFocusedElement.focus():angular.element($element.find(".django-cradmin-datetime-selector-daybuttoncell-in-current-month button").first()).focus()},$scope.__onSelectEnterPressed=function(){var selectedButton,tableElement,useButton;return 1===$scope.page?(useButton=$element.find(".django-cradmin-datetime-selector-dateview .django-cradmin-datetime-selector-use-button"),useButton.is(":visible")?$scope.onClickUseTime():(tableElement=$element.find(".django-cradmin-datetime-selector-table"),selectedButton=tableElement.find(".django-cradmin-datetime-selector-daybuttoncell-selected button"),selectedButton.length>0?selectedButton.focus():tableElement.find(".django-cradmin-datetime-selector-daybuttoncell-in-current-month button").first().focus())):2===$scope.page?$scope.onClickUseTime():void 0},__getFirstFocusableItemInCurrentPage=function(){return 1===$scope.page?$element.find(".django-cradmin-datetime-selector-dateview .django-cradmin-datetime-selector-closebutton"):2===$scope.page?$element.find(".django-cradmin-datetime-selector-timeview .django-cradmin-datetime-selector-closebutton"):void 0},__getLastFocusableItemInCurrentPage=function(){var useButton;return 1===$scope.page?(useButton=$element.find(".django-cradmin-datetime-selector-dateview .django-cradmin-datetime-selector-use-button"),useButton.is(":visible")?useButton:$element.find(".django-cradmin-datetime-selector-table td.django-cradmin-datetime-selector-daybuttoncell-in-current-month button").last()):2===$scope.page?$element.find(".django-cradmin-datetime-selector-timeview .django-cradmin-datetime-selector-use-button"):void 0},__getInitialFocusItemForCurrentPage=function(){var dayselectElement;return 1===$scope.page?(dayselectElement=$element.find(".django-cradmin-datetime-selector-dayselect"),dayselectElement.is(":visible")?dayselectElement:$element.find(".django-cradmin-datetime-selector-monthselect")):2===$scope.page?$element.find(".django-cradmin-datetime-selector-timeview .django-cradmin-datetime-selector-hourselect"):void 0},__getFocusItemAfterHide=function(){return $scope.triggerButton},$scope.onFocusHead=function(){null!==$scope.page&&__getLastFocusableItemInCurrentPage().focus()},$scope.onFocusTail=function(){null!==$scope.page&&__getFirstFocusableItemInCurrentPage().focus()},$scope.onSelectDayNumber=function(){$scope.monthlyCalendarCoordinator.handleCurrentDayObjectChange()},$scope.onClickCalendarDay=function(calendarDay){$scope.monthlyCalendarCoordinator.handleCalendarDayChange(calendarDay),$scope.config.include_time?$scope.showPage2():$scope.__useShownValue()},$scope.onFocusCalendayDay=function(calendarDay){$scope.monthlyCalendarCoordinator.handleFocusOnCalendarDay(calendarDay)},$scope.onSelectMonth=function(){$scope.monthlyCalendarCoordinator.handleCurrentMonthChange()},$scope.onSelectYear=function(){$scope.monthlyCalendarCoordinator.handleCurrentYearChange()},$scope.onSelectHour=function(){$scope.monthlyCalendarCoordinator.handleCurrentHourChange()},$scope.onSelectMinute=function(){$scope.monthlyCalendarCoordinator.handleCurrentMinuteChange()},$scope.onClickUseTime=function(){$scope.__useShownValue()},$scope.getTimeselectorDatepreview=function(){return $scope.calendarCoordinator.shownMomentObject.format($scope.config.timeselector_datepreview_momentjs_format)},$scope.getUseButtonAriaLabel=function(){var formattedDate;return null!=$scope.monthlyCalendarCoordinator?(formattedDate=$scope.calendarCoordinator.shownMomentObject.format($scope.config.usebutton_arialabel_momentjs_format),""+$scope.config.usebutton_arialabel_prefix+" "+formattedDate):""},$scope.getDaybuttonAriaLabel=function(calendarDay){var isSelected,label;return label=""+calendarDay.momentObject.format("MMMM D"),""!==$scope.config.today_label_text&&calendarDay.isToday()?label=""+label+" ("+$scope.config.today_label_text+")":(isSelected=calendarDay.momentObject.isSame($scope.calendarCoordinator.selectedMomentObject,"day"),""!==$scope.config.selected_day_label_text&&isSelected&&(label=""+label+" ("+$scope.config.selected_day_label_text+")")),label},$scope.hasShortcuts=function(){return $scope.calendarCoordinator.nowIsValidValue()?!0:$scope.config.required?!1:!0},$scope.onClickTodayButton=function(){$scope.monthlyCalendarCoordinator.setToToday(),$scope.config.include_time?$scope.showPage2():$scope.__useShownValue()},$scope.onClickNowButton=function(){return $scope.calendarCoordinator.setToNow(),$scope.__useShownValue()},$scope.onClickClearButton=function(){return $scope.__clearSelectedValue()},$scope.getTabindexForCalendarDay=function(calendarDay){return calendarDay.isInCurrentMonth?"0":"-1"},$scope.__updatePreviewText=function(){var preview,templateScope;return null!=$scope.calendarCoordinator.selectedMomentObject?(templateScope=$rootScope.$new(!0),templateScope.momentObject=$scope.calendarCoordinator.selectedMomentObject.clone(),preview=$compile($scope.previewAngularjsTemplate)(templateScope),$scope.previewElement.empty(),$scope.previewElement.append(preview),$scope.previewElement.show()):null!=$scope.config.no_value_preview_text&&""!==$scope.config.no_value_preview_text?($scope.previewElement.html($scope.config.no_value_preview_text),$scope.previewElement.show()):$scope.previewElement.hide()},$scope.__animatePreviewText=function(delay_milliseconds){return null!=$scope.config.preview_change_animation_cssclass?($scope.previewElement.addClass($scope.config.preview_change_animation_cssclass),$timeout(function(){return $timeout(function(){return $scope.previewElement.removeClass($scope.config.preview_change_animation_cssclass),$scope.previewElement.first().offsetWidth=$scope.previewElement.first().offsetWidth},$scope.config.preview_change_animation_duration_milliseconds)},delay_milliseconds)):void 0},$scope.__updateTriggerButtonLabel=function(){var label;return label=null!=$scope.calendarCoordinator.selectedMomentObject?$scope.config.buttonlabel:$scope.config.buttonlabel_novalue,$scope.triggerButton.html(label)},$scope.__updateDestinationFieldValue=function(){var destinationFieldValue;return destinationFieldValue=null!=$scope.calendarCoordinator.selectedMomentObject?$scope.calendarCoordinator.selectedMomentObject.format($scope.config.destinationfield_momentjs_format):"",$scope.destinationField.val(destinationFieldValue)},$scope.__hideWithSelectedValueApplied=function(){return $scope.__updateDestinationFieldValue(),$scope.__updatePreviewText(),$scope.__updateTriggerButtonLabel(),$scope.hide()},$scope.__useShownValue=function(){return $scope.calendarCoordinator.selectShownValue(),$scope.__hideWithSelectedValueApplied()},$scope.__clearSelectedValue=function(){return $scope.calendarCoordinator.clearSelectedMomentObject(),$scope.__hideWithSelectedValueApplied()},__addCommonHotkeys=function(){return hotkeys.add({combo:"esc",callback:function(event){return $scope.hide()},allowIn:["BUTTON","SELECT","INPUT"]}),hotkeys.add({combo:"up",callback:function(event){return $scope.__keyboardNavigation(event,"up")}}),hotkeys.add({combo:"down",callback:function(event){return $scope.__keyboardNavigation(event,"down")}}),hotkeys.add({combo:"left",callback:function(event){return $scope.__keyboardNavigation(event,"left")}}),hotkeys.add({combo:"right",callback:function(event){return $scope.__keyboardNavigation(event,"right")}}),hotkeys.add({
combo:"home",callback:function(event){return $scope.__keyboardNavigation(event,"home")}}),hotkeys.add({combo:"end",callback:function(event){return $scope.__keyboardNavigation(event,"end")}}),hotkeys.add({combo:"pagedown",allowIn:["BUTTON","SELECT","INPUT"],callback:function(event){return $scope.__keyboardNavigation(event,"pagedown")}}),hotkeys.add({combo:"pageup",allowIn:["BUTTON","SELECT","INPUT","BUTTON"],callback:function(event){return $scope.__keyboardNavigation(event,"pageup")}})},__addPage1Hotkeys=function(){},__removeHotkeys=function(){return hotkeys.del("esc"),hotkeys.del("up"),hotkeys.del("down"),hotkeys.del("left"),hotkeys.del("right"),hotkeys.del("home"),hotkeys.del("end"),hotkeys.del("pagedown"),hotkeys.del("pageup")},$scope.__onMouseWheel=function(e){return e.preventDefault(),e.stopPropagation()},$scope.__adjustPosition=function(){var contentWrapperElement,scrollTop,windowHeight;return contentWrapperElement=$element.find(".django-cradmin-datetime-selector-contentwrapper"),scrollTop=angular.element(window).scrollTop(),windowHeight=angular.element(window).height(),$scope.datetimeSelectorElement.css({top:scrollTop,height:""+windowHeight+"px"})},$scope.onWindowResize=function(){return $scope.__adjustPosition()},$scope.__show=function(){return __removeHotkeys(),__addCommonHotkeys(),$scope.__adjustPosition()},$scope.showPage1=function(){angular.element("body").on("mousewheel touchmove",$scope.__onMouseWheel),$scope.page=1,$timeout(function(){return __getInitialFocusItemForCurrentPage().focus()},150),$scope.__show(),__addPage1Hotkeys()},$scope.showPage2=function(){$scope.page=2,$scope.calendarCoordinator.selectShownValue(),$timeout(function(){return __getInitialFocusItemForCurrentPage().focus()},150),$scope.__show()},$scope.hide=function(){angular.element("body").off("mousewheel touchmove",$scope.__onMouseWheel),2===$scope.page?($scope.page=3,$timeout(function(){return $scope.page=null},$scope.config.hide_animation_duration_milliseconds)):$scope.page=null,__removeHotkeys(),$timeout(function(){return $scope.__animatePreviewText()},$scope.config.hide_animation_duration_milliseconds),$timeout(function(){return __getFocusItemAfterHide().focus()},150)},$scope.initialize=function(){var currentDateIsoString,maximumDatetime,minimumDatetime,selectedMomentObject;return currentDateIsoString=$scope.destinationField.val(),null!=currentDateIsoString&&""!==currentDateIsoString?(selectedMomentObject=moment(currentDateIsoString),$scope.triggerButton.html($scope.config.buttonlabel)):(selectedMomentObject=null,$scope.triggerButton.html($scope.config.buttonlabel_novalue)),minimumDatetime=null,maximumDatetime=null,null!=$scope.config.minimum_datetime&&(minimumDatetime=moment($scope.config.minimum_datetime)),null!=$scope.config.maximum_datetime&&(maximumDatetime=moment($scope.config.maximum_datetime)),$scope.calendarCoordinator=new djangoCradminCalendarApi.CalendarCoordinator({selectedMomentObject:selectedMomentObject,minimumDatetime:minimumDatetime,maximumDatetime:maximumDatetime,nowMomentObject:moment($scope.config.now)}),$scope.monthlyCalendarCoordinator=new djangoCradminCalendarApi.MonthlyCalendarCoordinator({calendarCoordinator:$scope.calendarCoordinator,yearselectValues:$scope.config.yearselect_values,hourselectValues:$scope.config.hourselect_values,minuteselectValues:$scope.config.minuteselect_values,yearFormat:$scope.config.yearselect_momentjs_format,monthFormat:$scope.config.monthselect_momentjs_format,dayOfMonthSelectFormat:$scope.config.dayofmonthselect_momentjs_format,dayOfMonthTableCellFormat:$scope.config.dayofmonthtablecell_momentjs_format,hourFormat:$scope.config.hourselect_momentjs_format,minuteFormat:$scope.config.minuteselect_momentjs_format}),$scope.__updatePreviewText()}},link:function($scope,$element){var body,configname,configvalue,labelElement,previewTemplateScriptElement,required_config_attributes,_i,_len;for(body=angular.element("body"),$element.appendTo(body),djangoCradminWindowDimensions.register($scope),$scope.$on("$destroy",function(){return djangoCradminWindowDimensions.unregister($scope)}),null==$scope.config.no_value_preview_text&&($scope.config.no_value_preview_text=""),required_config_attributes=["now","destinationfieldid","triggerbuttonid","previewid","previewtemplateid","required","usebuttonlabel","usebutton_arialabel_prefix","usebutton_arialabel_momentjs_format","close_icon","back_icon","back_to_datepicker_screenreader_text","destinationfield_momentjs_format","timeselector_datepreview_momentjs_format","year_screenreader_text","month_screenreader_text","day_screenreader_text","hour_screenreader_text","minute_screenreader_text","dateselector_table_screenreader_caption","today_label_text","selected_day_label_text","yearselect_values","hourselect_values","yearselect_momentjs_format","monthselect_momentjs_format","dayofmonthselect_momentjs_format","dayofmonthtablecell_momentjs_format","hourselect_momentjs_format","minuteselect_momentjs_format","minuteselect_values","now_button_text","today_button_text","clear_button_text","hide_animation_duration_milliseconds"],_i=0,_len=required_config_attributes.length;_len>_i;_i++)configname=required_config_attributes[_i],configvalue=$scope.config[configname],(null==configvalue||""===configvalue)&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("The "+configname+" config is required!");$scope.destinationField=angular.element("#"+$scope.config.destinationfieldid),0===$scope.destinationField.length&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("Could not find the destinationField element with ID: "+$scope.config.destinationfieldid),$scope.triggerButton=angular.element("#"+$scope.config.triggerbuttonid),$scope.triggerButton.length>0?($scope.triggerButton.on("click",function(){$scope.initialize(),$scope.showPage1(),$scope.$apply()}),labelElement=angular.element("label[for="+$scope.config.destinationfieldid+"]"),labelElement.length>0&&(labelElement.attr("id")||labelElement.attr("id",""+$scope.config.destinationfieldid+"_label"),$scope.triggerButton.attr("aria-labeledby",""+labelElement.attr("id")+" "+$scope.config.previewid))):"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Could not find the triggerButton element with ID: "+$scope.config.triggerbuttonid),$scope.previewElement=angular.element("#"+$scope.config.previewid),0===$scope.previewElement.length&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Could not find the previewElement element with ID: "+$scope.config.previewid),previewTemplateScriptElement=angular.element("#"+$scope.config.previewtemplateid),0===previewTemplateScriptElement.length?"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Could not find the previewTemplateScriptElement element with ID: "+$scope.config.previewtemplateid):$scope.previewAngularjsTemplate=previewTemplateScriptElement.html(),$scope.datetimeSelectorElement=$element.find(".django-cradmin-datetime-selector"),$scope.initialize(),$scope.destinationField.on("change",function(){return $scope.initialize(),$scope.$apply(),$scope.__animatePreviewText(0)}),$timeout(function(){return $element.find("select").on("keydown",function(e){13===e.which&&($scope.__onSelectEnterPressed(),e.preventDefault())})},100)}}}])}.call(this),function(){var app;app=angular.module("djangoCradmin.forms.filewidget",[]),app.controller("CradminFileFieldController",function($scope,$filter){$scope.init=function(){$scope.$watch("cradmin_filefield_has_value",function(newValue){return null!=newValue?newValue?$scope.cradmin_filefield_clearcheckbox_value="":$scope.cradmin_filefield_clearcheckbox_value="checked":void 0})},$scope.cradminClearFileField=function(){return $scope.cradmin_filefield_clear_value=!0},$scope.init()}),app.directive("cradminFilefieldValue",function(){return{scope:!1,link:function($scope,element,attributes){var fileFieldElement,setupFileFieldChangeListener;$scope.cradmin_filefield_clear_value=!1,fileFieldElement=element,null!=attributes.cradminFilefieldValue&&""!==attributes.cradminFilefieldValue&&($scope.cradmin_filefield_has_value=!0,$scope.cradmin_filefield_has_original_value=!0),setupFileFieldChangeListener=function(){return fileFieldElement.bind("change",function(changeEvent){var reader;reader=new FileReader,reader.onload=function(loadEvent){$scope.$apply(function(){$scope.cradmin_filefield_has_value=!0,$scope.cradmin_filefield_has_original_value=!1})},reader.readAsDataURL(changeEvent.target.files[0])})},$scope.$watch("cradmin_filefield_clear_value",function(newValue){var newFileFieldElement;return newValue?($scope.cradmin_filefield_has_value=!1,$scope.cradmin_filefield_clear_value=!1,$scope.cradmin_filefield_has_original_value=!1,newFileFieldElement=fileFieldElement.clone(),jQuery(fileFieldElement).replaceWith(newFileFieldElement),fileFieldElement=newFileFieldElement,setupFileFieldChangeListener()):void 0}),setupFileFieldChangeListener()}}})}.call(this),function(){angular.module("djangoCradmin.forms.modelchoicefield",[]).provider("djangoCradminModelChoiceFieldCoordinator",function(){var ModelChoiceFieldOverlay;return ModelChoiceFieldOverlay=function(){function ModelChoiceFieldOverlay(djangoCradminWindowDimensions){this.djangoCradminWindowDimensions=djangoCradminWindowDimensions,this.modelChoiceFieldIframeWrapper=null,this.bodyContentWrapperElement=angular.element("#django_cradmin_bodycontentwrapper"),this.bodyElement=angular.element("body")}return ModelChoiceFieldOverlay.prototype.registerModeChoiceFieldIframeWrapper=function(modelChoiceFieldIframeWrapper){return this.modelChoiceFieldIframeWrapper=modelChoiceFieldIframeWrapper},ModelChoiceFieldOverlay.prototype.onChangeValueBegin=function(fieldWrapperScope){return this.modelChoiceFieldIframeWrapper.onChangeValueBegin(fieldWrapperScope)},ModelChoiceFieldOverlay.prototype.addBodyContentWrapperClass=function(cssclass){return this.bodyContentWrapperElement.addClass(cssclass)},ModelChoiceFieldOverlay.prototype.removeBodyContentWrapperClass=function(cssclass){return this.bodyContentWrapperElement.removeClass(cssclass)},ModelChoiceFieldOverlay.prototype.disableBodyScrolling=function(){return this.bodyElement.addClass("django-cradmin-noscroll")},ModelChoiceFieldOverlay.prototype.enableBodyScrolling=function(){return this.bodyElement.removeClass("django-cradmin-noscroll"),this.djangoCradminWindowDimensions.triggerWindowResizeEvent()},ModelChoiceFieldOverlay}(),this.$get=["djangoCradminWindowDimensions",function(djangoCradminWindowDimensions){return new ModelChoiceFieldOverlay(djangoCradminWindowDimensions)}],this}).directive("djangoCradminModelChoiceFieldIframeWrapper",["$window","$timeout","djangoCradminModelChoiceFieldCoordinator","djangoCradminWindowDimensions",function($window,$timeout,djangoCradminModelChoiceFieldCoordinator,djangoCradminWindowDimensions){return{restrict:"A",scope:{},controller:function($scope){$scope.origin=""+window.location.protocol+"//"+window.location.host,$scope.bodyElement=angular.element($window.document.body),djangoCradminModelChoiceFieldCoordinator.registerModeChoiceFieldIframeWrapper(this),this.setIframe=function(iframeScope){return $scope.iframeScope=iframeScope},this._setField=function(fieldScope){return $scope.fieldScope=fieldScope},this._setPreviewElement=function(previewElementScope){return $scope.previewElementScope=previewElementScope},this.setLoadSpinner=function(loadSpinnerScope){return $scope.loadSpinnerScope=loadSpinnerScope},this.setIframeWrapperInner=function(iframeInnerScope){return $scope.iframeInnerScope=iframeInnerScope},this.onChangeValueBegin=function(fieldWrapperScope){return this._setField(fieldWrapperScope.fieldScope),this._setPreviewElement(fieldWrapperScope.previewElementScope),$scope.iframeScope.beforeShowingIframe(fieldWrapperScope.iframeSrc),$scope.show()},this.onIframeLoadBegin=function(){return $scope.loadSpinnerScope.show()},this.onIframeLoaded=function(){return $scope.iframeInnerScope.show(),$scope.loadSpinnerScope.hide()},$scope.onChangeValue=function(event){var data;return event.origin!==$scope.origin?void console.error("Message origin '"+event.origin+"' does not match current origin '"+$scope.origin+"'."):(data=angular.fromJson(event.data),$scope.fieldScope.fieldid===data.fieldid?($scope.fieldScope.setValue(data.value),$scope.previewElementScope.setPreviewHtml(data.preview),$scope.hide(),$scope.iframeScope.afterFieldValueChange()):void 0)},$window.addEventListener("message",$scope.onChangeValue,!1),$scope.onWindowResize=function(newWindowDimensions){return $scope.iframeScope.setIframeSize()},$scope.show=function(){return $scope.iframeWrapperElement.addClass("django-cradmin-floating-fullsize-iframe-wrapper-show"),djangoCradminModelChoiceFieldCoordinator.disableBodyScrolling(),djangoCradminModelChoiceFieldCoordinator.addBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper"),djangoCradminModelChoiceFieldCoordinator.addBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper-push"),djangoCradminWindowDimensions.register($scope)},$scope.hide=function(){return $scope.iframeWrapperElement.removeClass("django-cradmin-floating-fullsize-iframe-wrapper-show"),djangoCradminModelChoiceFieldCoordinator.removeBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper"),djangoCradminModelChoiceFieldCoordinator.removeBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper-push"),djangoCradminModelChoiceFieldCoordinator.enableBodyScrolling(),$scope.iframeScope.onHide(),djangoCradminWindowDimensions.unregister($scope)},this.closeIframe=function(){return $scope.hide()}},link:function(scope,element,attrs,wrapperCtrl){scope.iframeWrapperElement=element}}}]).directive("djangoCradminModelChoiceFieldIframeWrapperInner",["$window",function($window){return{require:"^^djangoCradminModelChoiceFieldIframeWrapper",restrict:"A",scope:{},controller:function($scope){$scope.scrollToTop=function(){return $scope.element.scrollTop(0)},$scope.show=function(){return $scope.element.removeClass("ng-hide")},$scope.hide=function(){return $scope.element.addClass("ng-hide")}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setIframeWrapperInner(scope)}}}]).directive("djangoCradminModelChoiceFieldIframeClosebutton",function(){return{require:"^djangoCradminModelChoiceFieldIframeWrapper",restrict:"A",scope:{},link:function(scope,element,attrs,iframeWrapperCtrl){element.on("click",function(e){return e.preventDefault(),iframeWrapperCtrl.closeIframe()})}}}).directive("djangoCradminModelChoiceFieldLoadSpinner",function(){return{require:"^^djangoCradminModelChoiceFieldIframeWrapper",restrict:"A",scope:{},controller:function($scope){return $scope.hide=function(){return $scope.element.addClass("ng-hide")},$scope.show=function(){return $scope.element.removeClass("ng-hide")}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setLoadSpinner(scope)}}}).directive("djangoCradminModelChoiceFieldIframe",["$interval",function($interval){return{require:"^djangoCradminModelChoiceFieldIframeWrapper",restrict:"A",scope:{},controller:function($scope){var currentScrollHeight,getIframeDocument,getIframeScrollHeight,getIframeWindow,resizeIfScrollHeightChanges,scrollHeightInterval,startScrollHeightInterval,stopScrollHeightInterval;scrollHeightInterval=null,currentScrollHeight=0,getIframeWindow=function(){return $scope.element.contents()},getIframeDocument=function(){return getIframeWindow()[0]},getIframeScrollHeight=function(){var iframeDocument;return iframeDocument=getIframeDocument(),null!=(null!=iframeDocument?iframeDocument.body:void 0)?iframeDocument.body.scrollHeight:0},resizeIfScrollHeightChanges=function(){var newScrollHeight;return newScrollHeight=getIframeScrollHeight(),newScrollHeight!==currentScrollHeight?(currentScrollHeight=newScrollHeight,$scope.setIframeSize()):void 0},startScrollHeightInterval=function(){return null==scrollHeightInterval?scrollHeightInterval=$interval(resizeIfScrollHeightChanges,500):void 0},stopScrollHeightInterval=function(){return null!=scrollHeightInterval?($interval.cancel(scrollHeightInterval),scrollHeightInterval=null):void 0},$scope.onHide=function(){return stopScrollHeightInterval()},$scope.afterFieldValueChange=function(){return stopScrollHeightInterval()},$scope.beforeShowingIframe=function(iframeSrc){var currentSrc;return currentSrc=$scope.element.attr("src"),(null==currentSrc||""===currentSrc||currentSrc!==iframeSrc)&&($scope.loadedSrc=currentSrc,$scope.wrapperCtrl.onIframeLoadBegin(),$scope.resetIframeSize(),$scope.element.attr("src",iframeSrc)),startScrollHeightInterval()},$scope.setIframeSize=function(){},$scope.resetIframeSize=function(){}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,scope.wrapperCtrl=wrapperCtrl,wrapperCtrl.setIframe(scope),scope.element.on("load",function(){return wrapperCtrl.onIframeLoaded(),scope.setIframeSize()})}}}]).directive("djangoCradminModelChoiceFieldWrapper",["djangoCradminModelChoiceFieldCoordinator",function(djangoCradminModelChoiceFieldCoordinator){return{restrict:"A",scope:{iframeSrc:"@djangoCradminModelChoiceFieldWrapper"},controller:function($scope){this.setField=function(fieldScope){return $scope.fieldScope=fieldScope},this.setPreviewElement=function(previewElementScope){return $scope.previewElementScope=previewElementScope},this.onChangeValueBegin=function(){return djangoCradminModelChoiceFieldCoordinator.onChangeValueBegin($scope)}}}}]).directive("djangoCradminModelChoiceFieldInput",["djangoCradminModelChoiceFieldCoordinator",function(djangoCradminModelChoiceFieldCoordinator){return{require:"^^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},controller:function($scope){$scope.setValue=function(value){return $scope.inputElement.val(value)}},link:function(scope,element,attrs,wrapperCtrl){scope.inputElement=element,scope.fieldid=attrs.id,wrapperCtrl.setField(scope)}}}]).directive("djangoCradminModelChoiceFieldPreview",["djangoCradminModelChoiceFieldCoordinator",function(djangoCradminModelChoiceFieldCoordinator){return{require:"^^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},controller:function($scope){$scope.setPreviewHtml=function(previewHtml){return $scope.previewElement.html(previewHtml)}},link:function(scope,element,attrs,wrapperCtrl){scope.previewElement=element,wrapperCtrl.setPreviewElement(scope)}}}]).directive("djangoCradminModelChoiceFieldChangebeginButton",["djangoCradminModelChoiceFieldCoordinator",function(djangoCradminModelChoiceFieldCoordinator){return{require:"^^djangoCradminModelChoiceFieldWrapper",restrict:"A",scope:{},link:function(scope,element,attrs,wrapperCtrl){element.on("click",function(e){return e.preventDefault(),wrapperCtrl.onChangeValueBegin()})}}}])}.call(this),function(){angular.module("djangoCradmin.forms.select",[]).directive("djangoCradminOpenUrlStoredInSelectedOption",[function(){return{restrict:"A",link:function($scope,$element,attributes){var getValue;return getValue=function(){return $element.find("option:selected").attr("value")},$element.on("change",function(){var remoteUrl;return remoteUrl=getValue(),window.location=value})}}}])}.call(this),function(){var app;app=angular.module("djangoCradmin.forms.setfieldvalue",["cfp.hotkeys"]),app.directive("djangoCradminSetfieldvalue",[function(){return{scope:{value:"@djangoCradminSetfieldvalue",fieldid:"@djangoCradminSetfieldvalueFieldId",moveFocusOnClick:"@djangoCradminSetfieldvalueMoveFocusOnClick"},link:function($scope,$element){var fieldElement,focusElement;return fieldElement=angular.element("#"+$scope.fieldid),null!=$scope.moveFocusOnClick&&(focusElement=angular.element("#"+$scope.moveFocusOnClick)),0===fieldElement.length?"undefined"!=typeof console&&null!==console&&"function"==typeof console.error?console.error("Could not find a field with the '"+$scope.fieldid+"' ID."):void 0:void $element.on("click",function(e){return e.preventDefault(),fieldElement.val($scope.value),fieldElement.trigger("change"),null!=focusElement?focusElement.focus():void 0})}}}])}.call(this),function(){angular.module("djangoCradmin.forms.usethisbutton",[]).directive("djangoCradminUseThis",["$window",function($window){return{restrict:"A",scope:{data:"@djangoCradminUseThis"},link:function(scope,element,attrs){element.on("click",function(e){var data;return e.preventDefault(),data=angular.fromJson(scope.data),data.postmessageid="django-cradmin-use-this",$window.parent.postMessage(angular.toJson(data),window.parent.location.href)})}}}]).directive("djangoCradminUseThisHidden",["$window",function($window){return{restrict:"A",scope:{data:"@djangoCradminUseThisHidden"},link:function(scope,element,attrs){var data;data=angular.fromJson(scope.data),data.postmessageid="django-cradmin-use-this",$window.parent.postMessage(angular.toJson(data),window.parent.location.href)}}}])}.call(this),function(){angular.module("djangoCradmin.imagepreview",[]).directive("djangoCradminImagePreview",function(){var controller;return controller=function($scope){this.setImg=function(imgscope){return $scope.cradminImagePreviewImage=imgscope},this.previewFile=function(file){return $scope.cradminImagePreviewImage.previewFile(file)}},{restrict:"A",controller:controller}}).directive("djangoCradminImagePreviewImg",function(){var controller,link,onFilePreviewLoaded;return onFilePreviewLoaded=function($scope,srcData){return $scope.element.attr("height",""),$scope.element[0].src=srcData,$scope.element.removeClass("ng-hide")},controller=function($scope){$scope.previewFile=function(file){var reader;return reader=new FileReader,reader.onload=function(evt){return onFilePreviewLoaded($scope,evt.target.result)},reader.readAsDataURL(file)}},link=function($scope,element,attrs,previewCtrl){$scope.element=element,previewCtrl.setImg($scope),(null==element.attr("src")||""===element.attr("src"))&&element.addClass("ng-hide")},{require:"^djangoCradminImagePreview",restrict:"A",scope:{},controller:controller,link:link}}).directive("djangoCradminImagePreviewFilefield",function(){var link;return link=function($scope,element,attrs,previewCtrl){$scope.previewCtrl=previewCtrl,$scope.element=element,$scope.wrapperelement=element.parent(),element.bind("change",function(evt){var file;return null!=evt.target.files?(file=evt.target.files[0],$scope.previewCtrl.previewFile(file)):void 0}),element.bind("mouseover",function(){return $scope.wrapperelement.addClass("django-cradmin-filewidget-field-and-overlay-wrapper-hover")}),element.bind("mouseleave",function(){return $scope.wrapperelement.removeClass("django-cradmin-filewidget-field-and-overlay-wrapper-hover")})},{require:"^djangoCradminImagePreview",restrict:"A",scope:{},link:link}})}.call(this),function(){angular.module("djangoCradmin.iosaddtohomescreen",[]).directive("iosAddToHomeScreen",["$window","cradminDetectize",function($window,cradminDetectize){return{transclude:!0,template:"<div ng-transclude>This is my directive content</div>",link:function($scope,$element,attrs){null!=attrs.forceOs?$scope.os=attrs.forceOs:$scope.os=cradminDetectize.os.name,null!=attrs.forceBrowser?$scope.browser=attrs.forceBrowser:$scope.browser=cradminDetectize.browser.name,null!=attrs.forceDeviceModel?$scope.deviceModel=attrs.forceDeviceModel:$scope.deviceModel=cradminDetectize.device.model,"ios"===$scope.os&&"safari"===$scope.browser?$element.show():$element.hide()}}}])}.call(this),function(){angular.module("djangoCradmin",["djangoCradmin.templates","djangoCradmin.directives","djangoCradmin.providers","djangoCradmin.calendar.providers","djangoCradmin.messages","djangoCradmin.detectizr","djangoCradmin.menu","djangoCradmin.objecttable","djangoCradmin.acemarkdown","djangoCradmin.bulkfileupload","djangoCradmin.iosaddtohomescreen","djangoCradmin.imagepreview","djangoCradmin.collapse","djangoCradmin.modal","djangoCradmin.scrollfixed","djangoCradmin.pagepreview","djangoCradmin.forms.modelchoicefield","djangoCradmin.forms.usethisbutton","djangoCradmin.forms.datetimewidget","djangoCradmin.forms.filewidget","djangoCradmin.forms.setfieldvalue","djangoCradmin.forms.select","djangoCradmin.forms.clearabletextinput","djangoCradmin.backgroundreplace_element.providers","djangoCradmin.backgroundreplace_element.directives","djangoCradmin.listfilter.directives","djangoCradmin.multiselect2.services","djangoCradmin.multiselect2.directives","djangoCradmin.loadmorepager.services","djangoCradmin.loadmorepager.directives"])}.call(this),function(){angular.module("djangoCradmin.listfilter.directives",[]).directive("djangoCradminListfilter",["$window","$timeout","djangoCradminBgReplaceElement",function($window,$timeout,djangoCradminBgReplaceElement){return{restrict:"A",scope:{options:"=djangoCradminListfilter"},controller:function($scope,$element){var $messageElement,filterListDomId,filterScopes,hideMessage,loadInProgress,onLoadSuccess,queueMessage,setLoadFinished,setLoadInProgress,showMessage,showMessageTimer;filterListDomId=$element.attr("id"),filterScopes=[],loadInProgress=!1,$messageElement=null,showMessageTimer=null,this.loadIsInProgress=function(){return loadInProgress},setLoadInProgress=function(options){var filterScope,_i,_len,_results;for(loadInProgress=!0,$scope.targetElement.attr("aria-busy","true"),_results=[],_i=0,_len=filterScopes.length;_len>_i;_i++)filterScope=filterScopes[_i],_results.push(filterScope.onLoadInProgress(options.filterDomId));return _results},setLoadFinished=function(options){var filterScope,_i,_len;for(loadInProgress=!1,_i=0,_len=filterScopes.length;_len>_i;_i++)filterScope=filterScopes[_i],filterScope.onLoadFinished(options.filterDomId);return $scope.targetElement.attr("aria-busy","false")},onLoadSuccess=function($remoteHtmlDocument,remoteUrl){var $remoteFilterList,filterScope,parsedRemoteUrl,title,_i,_len,_results;for($remoteFilterList=$remoteHtmlDocument.find("#"+filterListDomId),title=$window.document.title,parsedRemoteUrl=URI(remoteUrl),parsedRemoteUrl.removeSearch("cradmin-bgreplaced").normalizeQuery(),console.log(parsedRemoteUrl.toString()),$window.history.pushState("list filter change",title,parsedRemoteUrl.toString()),_results=[],_i=0,_len=filterScopes.length;_len>_i;_i++)filterScope=filterScopes[_i],_results.push(filterScope.syncWithRemoteFilterList($remoteFilterList));return _results},showMessage=function(variant,message){var aria_role,loadspinner;if(hideMessage(),$scope.targetElement.removeClass("django-cradmin-listfilter-target-loaderror"),loadspinner="",aria_role="alert","error"===variant)$scope.targetElement.addClass("django-cradmin-listfilter-target-loaderror"),aria_role="alert";else{if("loading"!==variant)throw new Error("Invalid message variant: "+variant);$scope.targetElement.addClass("django-cradmin-listfilter-target-loading"),aria_role="progressbar",null!=$scope.options.loadspinner_css_class&&(loadspinner="<span class='django-cradmin-listfilter-message-loadspinner "+(""+$scope.options.loadspinner_css_class+"' aria-hidden='true'></span>"))}return $messageElement=angular.element("<div aria-role='"+aria_role+"' "+("class='django-cradmin-listfilter-message django-cradmin-listfilter-message-"+variant+"'>")+(""+loadspinner)+("<span class='django-cradmin-listfilter-message-text'>"+message+"</span></div>")),$messageElement.prependTo($scope.targetElement)},queueMessage=function(variant,message){return null!=showMessageTimer&&$timeout.cancel(showMessageTimer),showMessageTimer=$timeout(function(){return showMessage(variant,message)},$scope.options.loadingmessage_delay_milliseconds)},hideMessage=function(){return null!=showMessageTimer&&$timeout.cancel(showMessageTimer),$messageElement&&($messageElement.remove(),$messageElement=null),$scope.targetElement.removeClass("django-cradmin-listfilter-target-loading")},this.load=function(options){return setLoadInProgress(options),queueMessage("loading",options.loadingmessage),djangoCradminBgReplaceElement.load({parameters:{method:"GET",url:options.remoteUrl},remoteElementSelector:"#"+$scope.options.target_dom_id,targetElement:$scope.targetElement,$scope:$scope,replace:!0,onHttpError:function(response){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("Error while filtering",response),showMessage("error",$scope.options.loaderror_message)},onSuccess:function($remoteHtmlDocument){return onLoadSuccess($remoteHtmlDocument,options.remoteUrl),null!=options.onLoadSuccess?options.onLoadSuccess(options.onLoadSuccessData):void 0},onFinish:function(){return setLoadFinished(options),hideMessage()}})},this.addFilterScope=function(filterScope){return filterScopes.push(filterScope)}},link:function($scope,$element,attributes){$scope.targetElement=angular.element("#"+$scope.options.target_dom_id),angular.element($window).on("popstate",function(e){var state;return state=e.originalEvent.state,state?$window.location.reload():void 0})}}}]).directive("djangoCradminListfilterSelect",[function(){return{restrict:"A",require:"^djangoCradminListfilter",scope:{options:"=djangoCradminListfilterSelect"},controller:function($scope,$element){$scope.syncWithRemoteFilterList=function($remoteFilterList){var $remoteElement,domId;return domId=$element.attr("id"),$remoteElement=$remoteFilterList.find("#"+domId),$element.empty(),$element.append(angular.element($remoteElement.html()))},$scope.onLoadInProgress=function(filterDomId){return $element.prop("disabled",!0)},$scope.onLoadFinished=function(filterDomId){return $element.prop("disabled",!1)}},link:function($scope,$element,attributes,listfilterCtrl){var getValue;listfilterCtrl.addFilterScope($scope),getValue=function(){return $element.find("option:selected").attr("value")},$element.on("change",function(){var remoteUrl;return remoteUrl=getValue(),listfilterCtrl.load({remoteUrl:remoteUrl,filterDomId:$element.attr("id"),loadingmessage:$scope.options.loadingmessage,onLoadSuccess:function(){return $element.focus()}})})}}}]).directive("djangoCradminListfilterTextinput",["$timeout",function($timeout){var emptyvalueUrlAttribute,urlpatternAttribute,urlpatternReplaceText;return urlpatternAttribute="django-cradmin-listfilter-urlpattern",emptyvalueUrlAttribute="django-cradmin-listfilter-emptyvalue-url",urlpatternReplaceText="_-_TEXTINPUT_-_VALUE_-_",{restrict:"A",require:"^djangoCradminListfilter",scope:{options:"=djangoCradminListfilterTextinput"},controller:function($scope,$element){$scope.syncWithRemoteFilterList=function($remoteFilterList){var $remoteElement,domId;return domId=$element.attr("id"),$remoteElement=$remoteFilterList.find("#"+domId),$element.attr(urlpatternAttribute,$remoteElement.attr(urlpatternAttribute)),$element.attr(emptyvalueUrlAttribute,$remoteElement.attr(emptyvalueUrlAttribute))},$scope.onLoadInProgress=function(filterDomId){return filterDomId!==$element.attr("id")?$element.prop("disabled",!0):void 0},$scope.onLoadFinished=function(filterDomId){return $element.prop("disabled",!1)}},link:function($scope,$element,attributes,listfilterCtrl){var applySearchTimer,buildUrl,loadSearch,loadedValue,onLoadSearchSuccess,onValueChange,timeoutMilliseconds;listfilterCtrl.addFilterScope($scope),applySearchTimer=null,loadedValue=$element.val(),timeoutMilliseconds=$scope.options.timeout_milliseconds,null==timeoutMilliseconds&&(timeoutMilliseconds=500),buildUrl=function(value){var encodedValue,urlpattern;return value=value.trim(),""===value?$element.attr(emptyvalueUrlAttribute):(urlpattern=$element.attr(urlpatternAttribute),encodedValue=URI.encodeQuery(value),console.log(value),console.log(encodedValue),urlpattern.replace($scope.options.urlpattern_replace_text,encodedValue))},onLoadSearchSuccess=function(data){var currentValue;return currentValue=$element.val(),data.value!==currentValue&&onValueChange(!0),loadedValue=data.value},loadSearch=function(){var remoteUrl,value;if(!listfilterCtrl.loadIsInProgress()&&(value=$element.val(),loadedValue!==value))return remoteUrl=buildUrl(value),
loadedValue=value,listfilterCtrl.load({remoteUrl:remoteUrl,onLoadSuccess:onLoadSearchSuccess,onLoadSuccessData:{value:value},filterDomId:$element.attr("id"),loadingmessage:$scope.options.loadingmessage})},onValueChange=function(useTimeout){return null!=applySearchTimer&&$timeout.cancel(applySearchTimer),listfilterCtrl.loadIsInProgress()?void 0:useTimeout?applySearchTimer=$timeout(loadSearch,timeoutMilliseconds):loadSearch()},$element.on("change",function(){return onValueChange(!1)}),$element.on("keydown",function(e){return onValueChange(13===e.which?!1:!0)})}}}]).directive("djangoCradminListfilterCheckboxlist",[function(){return{restrict:"A",require:"^djangoCradminListfilter",scope:{options:"=djangoCradminListfilterCheckboxlist"},controller:function($scope,$element){$scope.syncWithRemoteFilterList=function($remoteFilterList){var $remoteElement,domId;return domId=$element.attr("id"),$remoteElement=$remoteFilterList.find("#"+domId),$element.empty(),$element.append(angular.element($remoteElement.html())),$scope.registerCheckboxChangeListeners(!0)},$scope.onLoadInProgress=function(filterDomId){return $element.find("input").prop("disabled",!0)},$scope.onLoadFinished=function(filterDomId){return $element.find("input").prop("disabled",!1)}},link:function($scope,$element,attributes,listfilterCtrl){var getUrl,onLoadSuccess;listfilterCtrl.addFilterScope($scope),getUrl=function($inputElement){return $inputElement.attr("data-url")},onLoadSuccess=function(data){return $element.find("#"+data.checkboxId).focus()},$scope.onCheckboxChange=function(e){var checkboxId,remoteUrl;return remoteUrl=getUrl(angular.element(e.target)),checkboxId=angular.element(e.target).attr("id"),listfilterCtrl.load({remoteUrl:remoteUrl,filterDomId:$element.attr("id"),onLoadSuccess:onLoadSuccess,onLoadSuccessData:{checkboxId:checkboxId},loadingmessage:$scope.options.loadingmessage})},$scope.registerCheckboxChangeListeners=function(removeFirst){return removeFirst&&$element.find("input").off("change",$scope.onCheckboxChange),$element.find("input").on("change",$scope.onCheckboxChange)},$scope.registerCheckboxChangeListeners(!1)}}}]).directive("djangoCradminListfilterRadiolist",[function(){return{restrict:"A",require:"^djangoCradminListfilter",scope:{options:"=djangoCradminListfilterRadiolist"},controller:function($scope,$element){$scope.syncWithRemoteFilterList=function($remoteFilterList){var $remoteElement,domId;return domId=$element.attr("id"),$remoteElement=$remoteFilterList.find("#"+domId),$element.empty(),$element.append(angular.element($remoteElement.html())),$scope.registerCheckboxChangeListeners(!0)},$scope.onLoadInProgress=function(filterDomId){return $element.find("input").prop("disabled",!0)},$scope.onLoadFinished=function(filterDomId){return $element.find("input").prop("disabled",!1)}},link:function($scope,$element,attributes,listfilterCtrl){var getUrl,onLoadSuccess;listfilterCtrl.addFilterScope($scope),getUrl=function($inputElement){return $inputElement.attr("data-url")},onLoadSuccess=function(data){return $element.find("#"+data.checkboxId).focus()},$scope.onRadioChange=function(e){var checkboxId,remoteUrl;return remoteUrl=getUrl(angular.element(e.target)),checkboxId=angular.element(e.target).attr("id"),listfilterCtrl.load({remoteUrl:remoteUrl,filterDomId:$element.attr("id"),onLoadSuccess:onLoadSuccess,onLoadSuccessData:{checkboxId:checkboxId},loadingmessage:$scope.options.loadingmessage})},$scope.registerCheckboxChangeListeners=function(removeFirst){return removeFirst&&$element.find("input").off("change",$scope.onRadioChange),$element.find("input").on("change",$scope.onRadioChange)},$scope.registerCheckboxChangeListeners(!1)}}}])}.call(this),function(){angular.module("djangoCradmin.loadmorepager.directives",[]).directive("djangoCradminLoadMorePager",["$timeout","djangoCradminBgReplaceElement","djangoCradminLoadmorepagerCoordinator",function($timeout,djangoCradminBgReplaceElement,djangoCradminLoadmorepagerCoordinator){var pagerWrapperCssSelector;return pagerWrapperCssSelector=".django-cradmin-loadmorepager",{restrict:"A",scope:!0,controller:function($scope,$element){$scope.loadmorePagerIsLoading=!1,$scope.getNextPageNumber=function(){return $scope.loadmorePagerOptions.nextPageNumber},$scope.pagerLoad=function(options){var $targetElement,nextPageUrl,replaceMode,updatedQueryDictAttributes;return options=angular.extend({},$scope.loadmorePagerOptions,options),$scope.loadmorePagerIsLoading=!0,$targetElement=angular.element(options.targetElementCssSelector),replaceMode=!1,nextPageUrl=URI(),updatedQueryDictAttributes={},"reloadPageOneOnLoad"===options.mode?replaceMode=!0:"loadAllOnClick"===options.mode?(replaceMode=!0,nextPageUrl.setSearch("disablePaging","true")):nextPageUrl.setSearch(options.pageQueryStringAttribute,$scope.getNextPageNumber()),djangoCradminBgReplaceElement.load({parameters:{method:"GET",url:nextPageUrl.toString()},remoteElementSelector:options.targetElementCssSelector,targetElement:$targetElement,$scope:$scope,replace:replaceMode,onHttpError:function(response){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.error?console.error("ERROR loading page",response):void 0},onSuccess:function($remoteHtmlDocument){return"reloadPageOneOnLoad"===options.mode?$targetElement.removeClass("django-cradmin-loadmorepager-target-reloading-page1"):$element.addClass("django-cradmin-loadmorepager-hidden"),null!=options.onSuccess?options.onSuccess():void 0},onFinish:function(){return $scope.loadmorePagerIsLoading=!1}})}},link:function($scope,$element,attributes){var domId;if($scope.loadmorePagerOptions={pageQueryStringAttribute:"page",mode:"loadMoreOnClick"},null!=attributes.djangoCradminLoadMorePager&&""!==attributes.djangoCradminLoadMorePager&&angular.extend($scope.loadmorePagerOptions,angular.fromJson(attributes.djangoCradminLoadMorePager)),null==$scope.loadmorePagerOptions.targetElementCssSelector)throw Error("Missing required option: targetElementCssSelector");domId=$element.attr("id"),djangoCradminLoadmorepagerCoordinator.registerPager(domId,$scope),$scope.$on("$destroy",function(){return djangoCradminLoadmorepagerCoordinator.unregisterPager(domId,$scope)}),"reloadPageOneOnLoad"===$scope.loadmorePagerOptions.mode&&$timeout(function(){return $scope.pagerLoad()},500)}}}])}.call(this),function(){angular.module("djangoCradmin.loadmorepager.services",[]).factory("djangoCradminLoadmorepagerCoordinator",function(){var Coordinator;return new(Coordinator=function(){function Coordinator(){this.targets={}}return Coordinator.prototype.registerPager=function(targetDomId,pagerScope){return null==this.targets[targetDomId]&&(this.targets[targetDomId]={}),this.targets[targetDomId][pagerScope.getNextPageNumber()]=pagerScope},Coordinator.prototype.unregisterPager=function(targetDomId,pagerScope){return del(this.targets[targetDomId][pagerScope.getNextPageNumber()])},Coordinator.prototype.__getPagerScope=function(targetDomId,nextPageNumber){var pagerScope,target;if(target=this.targets[targetDomId],null==target)throw Error("No target with ID '"+targetDomId+"' registered with djangoCradminLoadmorepagerCoordinator.");if(pagerScope=target[nextPageNumber],null==pagerScope)throw Error("No pagerScope for targetDomId='"+targetDomId+"' and nextPageNumber="+nextPageNumber+" registered with djangoCradminLoadmorepagerCoordinator.");return pagerScope},Coordinator}())})}.call(this),function(){angular.module("djangoCradmin.menu",[]).directive("djangoCradminMenu",[function(){return{scope:!0,controller:function($scope,djangoCradminPagePreview){$scope.cradminMenuDisplay=!1,$scope.cradminMenuTogglePressed=function(){return $scope.cradminMenuDisplay=!$scope.cradminMenuDisplay},$scope.getAriaPressed=function(){return $scope.cradminMenuDisplay?"pressed":""},this.close=function(){return $scope.cradminMenuDisplay=!1,$scope.$apply()}}}}]).directive("djangoCradminMenuAutodetectOverflowY",["djangoCradminWindowDimensions",function(djangoCradminWindowDimensions){return{require:"?djangoCradminMenu",controller:function($scope){var disableInitialWatcher;$scope.onWindowResize=function(newWindowDimensions){return $scope.setOrUnsetOverflowYClass()},$scope.setOrUnsetOverflowYClass=function(){var menuDomElement,_ref;return menuDomElement=null!=(_ref=$scope.menuElement)?_ref[0]:void 0,null!=menuDomElement?menuDomElement.clientHeight<menuDomElement.scrollHeight?$scope.menuElement.addClass($scope.overflowYClass):$scope.menuElement.removeClass($scope.overflowYClass):void 0},disableInitialWatcher=$scope.$watch(function(){var _ref;return null!=(null!=(_ref=$scope.menuElement)?_ref[0]:void 0)?!0:!1},function(newValue){return newValue?($scope.setOrUnsetOverflowYClass(),disableInitialWatcher()):void 0})},link:function($scope,element,attrs){$scope.overflowYClass=attrs.djangoCradminMenuAutodetectOverflowY,$scope.menuElement=element,djangoCradminWindowDimensions.register($scope),$scope.$on("$destroy",function(){return djangoCradminWindowDimensions.unregister($scope)})}}}]).directive("djangoCradminMenuCloseOnClick",[function(){return{require:"^^djangoCradminMenu",link:function(scope,element,attrs,djangoCradminMenuCtrl){element.on("click",function(){djangoCradminMenuCtrl.close()})}}}])}.call(this),function(){angular.module("djangoCradmin.messages",[]).controller("DjangoCradminMessagesCtrl",["$scope","$timeout",function($scope,$timeout){$scope.loading=!0,$timeout(function(){return $scope.loading=!1},650),$scope.messageHidden={},$scope.hideMessage=function(index){return $scope.messageHidden[index]=!0},$scope.messageIsHidden=function(index){return $scope.messageHidden[index]}}])}.call(this),function(){angular.module("djangoCradmin.modal",[]).directive("djangoCradminModalWrapper",[function(){return{scope:!0,controller:function($scope){var bodyElement;$scope.modalVisible=!1,bodyElement=angular.element("body"),$scope.showModal=function(e){null!=e&&e.preventDefault(),$scope.modalVisible=!0,bodyElement.addClass("django-cradmin-noscroll")},$scope.hideModal=function(){$scope.modalVisible=!1,bodyElement.removeClass("django-cradmin-noscroll")}}}}]).directive("djangoCradminModal",[function(){return{require:"^^djangoCradminModalWrapper",link:function($scope,element){var body;return body=angular.element("body"),element.appendTo(body)}}}])}.call(this),function(){angular.module("djangoCradmin.multiselect2.directives",[]).directive("djangoCradminMultiselect2Target",["djangoCradminMultiselect2Coordinator","$window",function(djangoCradminMultiselect2Coordinator,$window){return{restrict:"A",scope:!0,controller:function($scope,$element){var domId;if(domId=$element.attr("id"),$scope.selectedItemsScope=null,null==domId)throw Error("Elements using django-cradmin-multiselect2-target must have an id.");djangoCradminMultiselect2Coordinator.registerTarget(domId,$scope),$scope.$on("$destroy",function(){return djangoCradminMultiselect2Coordinator.unregisterTarget(domId)}),$scope.select=function(selectScope){return $scope.selectedItemsScope.select(selectScope),$scope.$$phase?void 0:$scope.$apply()},$scope.isSelected=function(selectScope){return $scope.selectedItemsScope.isSelected(selectScope)},$scope.hasItems=function(){var _ref;return null!=(_ref=$scope.selectedItemsScope)?_ref.hasItems():void 0},this.setSelectedItemsScope=function(selectedItemsScope){return $scope.selectedItemsScope=selectedItemsScope},this.getSelectedItemsScope=function(){return $scope.selectedItemsScope}},link:function($scope,$element,attributes){var options;$scope.options={updateFormActionToWindowLocation:!1},""!==attributes.djangoCradminMultiselect2Target&&(options=angular.fromJson(attributes.djangoCradminMultiselect2Target),angular.merge($scope.options,options)),$element.on("submit",function(e){return $scope.options.updateFormActionToWindowLocation?$element.attr("action",$window.location.href):void 0})}}}]).directive("djangoCradminMultiselect2TargetSelectedItems",["$compile","djangoCradminMultiselect2Coordinator",function($compile,djangoCradminMultiselect2Coordinator){var selectedItemCssClass;return selectedItemCssClass="django-cradmin-multiselect2-target-selected-item",{restrict:"A",require:"^djangoCradminMultiselect2Target",scope:!0,controller:function($scope,$element){$scope.selectedItemsCount=0,$scope.selectedItemsData={},$scope.select=function(selectScope){var html,linkingFunction,loadedElement,previewHtml,selectButtonDomId;return previewHtml=selectScope.getPreviewHtml(),selectButtonDomId=selectScope.getDomId(),html="<div id='"+selectButtonDomId+"_selected_item'"+("django-cradmin-multiselect2-target-selected-item='"+selectButtonDomId+"' ")+("class='"+selectedItemCssClass+"'>")+(""+previewHtml+"</div>"),linkingFunction=$compile(html),loadedElement=linkingFunction($scope),angular.element(loadedElement).appendTo($element),$scope.selectedItemsCount+=1,$scope.selectedItemsData[selectButtonDomId]=selectScope.getCustomData()},$scope.deselectSelectedItem=function(selectedItemScope){return $scope.selectedItemsCount-=1,delete $scope.selectedItemsData[selectedItemScope.selectButtonDomId],djangoCradminMultiselect2Coordinator.onDeselect(selectedItemScope.selectButtonDomId)},$scope.isSelected=function(selectScope){var selectButtonDomId;return selectButtonDomId=selectScope.getDomId(),$element.find("#"+selectButtonDomId+"_selected_item").length>0},$scope.hasItems=function(){return $scope.selectedItemsCount>0},$scope.getItemsCustomDataList=function(){var customData,customDataList,selectButtonDomId,_ref;customDataList=[],_ref=$scope.selectedItemsData;for(selectButtonDomId in _ref)customData=_ref[selectButtonDomId],customDataList.push(customData);return customDataList}},link:function($scope,$element,attributes,targetCtrl){targetCtrl.setSelectedItemsScope($scope)}}}]).directive("djangoCradminMultiselect2TargetSelectedItem",["djangoCradminMultiselect2Coordinator",function(djangoCradminMultiselect2Coordinator){return{restrict:"A",scope:!0,controller:function($scope,$element){$scope.deselect=function(){$element.remove(),$scope.deselectSelectedItem($scope)}},link:function($scope,$element,attributes){$scope.selectButtonDomId=attributes.djangoCradminMultiselect2TargetSelectedItem}}}]).directive("djangoCradminMultiselect2Select",["$rootScope","djangoCradminMultiselect2Coordinator",function($rootScope,djangoCradminMultiselect2Coordinator){var itemWrapperSelectedCssClass;return itemWrapperSelectedCssClass="django-cradmin-multiselect2-item-wrapper-selected",{restrict:"A",scope:{options:"=djangoCradminMultiselect2Select"},controller:function($scope,$element){var unregisterBgReplaceEventHandler;$scope.getPreviewHtml=function(){var $containerElement,$previewElement;return $containerElement=$element.parents($scope.options.preview_container_css_selector),$previewElement=$containerElement.find($scope.options.preview_css_selector),$previewElement.html()},$scope.getDomId=function(){return $element.attr("id")},$scope.getListElementCssSelector=function(){return $scope.options.listelement_css_selector},$scope.onDeselect=function(){return $scope.getItemWrapperElement().removeClass(itemWrapperSelectedCssClass)},$scope.markAsSelected=function(){return $scope.getItemWrapperElement().addClass(itemWrapperSelectedCssClass)},$scope.getItemWrapperElement=function(){return $element.closest($scope.options.item_wrapper_css_selector)},$scope.getTargetDomId=function(){return $scope.options.target_dom_id},$scope.getCustomData=function(){return null!=$scope.options.custom_data?$scope.options.custom_data:{}},unregisterBgReplaceEventHandler=$scope.$on("djangoCradminBgReplaceElementEvent",function(event,options){var targetDomId;return $element.closest(options.remoteElementSelector).length>0&&(targetDomId=$scope.options.target_dom_id,djangoCradminMultiselect2Coordinator.isSelected(targetDomId,$scope))?$scope.markAsSelected():void 0}),djangoCradminMultiselect2Coordinator.registerSelectScope($scope),$scope.$on("$destroy",function(){return unregisterBgReplaceEventHandler(),djangoCradminMultiselect2Coordinator.unregisterSelectScope($scope)})},link:function($scope,$element,attributes){var select,targetScopeExistsWatcherCancel;select=function(){return djangoCradminMultiselect2Coordinator.select($scope)},$scope.options.is_selected&&(djangoCradminMultiselect2Coordinator.targetScopeExists($scope.getTargetDomId())?select():targetScopeExistsWatcherCancel=$scope.$watch(function(){return djangoCradminMultiselect2Coordinator.targetScopeExists($scope.getTargetDomId())},function(newValue,oldValue){return newValue?(select(),targetScopeExistsWatcherCancel()):void 0})),$element.on("click",function(e){return e.preventDefault(),select()})}}}]).directive("djangoCradminMultiselect2Selectall",["$rootScope","djangoCradminMultiselect2Coordinator",function($rootScope,djangoCradminMultiselect2Coordinator){return{restrict:"A",scope:!0,controller:function($scope,$element){},link:function($scope,$element,attributes){var selectAll,targetDomId;$scope.options=angular.fromJson(attributes.djangoCradminMultiselect2Selectall),targetDomId=$scope.options.target_dom_id,selectAll=function(){return djangoCradminMultiselect2Coordinator.selectAll(targetDomId)},$element.on("click",function(e){return e.preventDefault(),$scope.pagerLoad({onSuccess:function(){return selectAll()}})})}}}]).directive("djangoCradminMultiselect2UseThis",["$window",function($window){return{restrict:"A",require:"^djangoCradminMultiselect2Target",scope:{data:"@djangoCradminMultiselect2UseThis"},link:function($scope,$element,attributes,targetCtrl){var getSelectedItemsData;getSelectedItemsData=function(){var allData,itemData,_i,_len,_ref;for(allData={values:[],preview:""},_ref=targetCtrl.getSelectedItemsScope().getItemsCustomDataList(),_i=0,_len=_ref.length;_len>_i;_i++)itemData=_ref[_i],allData.values.push(itemData.value),allData.preview+=itemData.preview;return allData},$element.on("click",function(e){var data,selectedItemsData;return e.preventDefault(),data=angular.fromJson($scope.data),data.postmessageid="django-cradmin-use-this",selectedItemsData=getSelectedItemsData(),data.value=angular.toJson(selectedItemsData.values),data.preview=selectedItemsData.preview,$window.parent.postMessage(angular.toJson(data),window.parent.location.href)})}}}])}.call(this),function(){angular.module("djangoCradmin.multiselect2.services",[]).factory("djangoCradminMultiselect2Coordinator",function(){var Coordinator;return new(Coordinator=function(){function Coordinator(){this.targets={},this.selectScopes={}}return Coordinator.prototype.registerTarget=function(targetDomId,targetScope){return this.targets[targetDomId]=targetScope},Coordinator.prototype.unregisterTarget=function(targetDomId,targetScope){return delete this.targets[targetDomId]},Coordinator.prototype.__getTargetScope=function(targetDomId){var targetScope;if(targetScope=this.targets[targetDomId],null==targetScope)throw Error("No target with ID '"+targetDomId+"' registered with djangoCradminMultiselect2Coordinator.");return targetScope},Coordinator.prototype.targetScopeExists=function(targetDomId){return null!=this.targets[targetDomId]},Coordinator.prototype.select=function(selectScope){var targetScope;return targetScope=this.__getTargetScope(selectScope.getTargetDomId()),targetScope.isSelected(selectScope)?void 0:(targetScope.select(selectScope),selectScope.markAsSelected())},Coordinator.prototype.onDeselect=function(selectButtonDomId){var $selectElement,selectScope;return $selectElement=angular.element("#"+selectButtonDomId),null!=$selectElement&&(selectScope=$selectElement.isolateScope(),null!=selectScope)?selectScope.onDeselect():void 0},Coordinator.prototype.isSelected=function(targetDomId,selectScope){var targetScope;return targetScope=this.__getTargetScope(targetDomId),targetScope.isSelected(selectScope)},Coordinator.prototype.registerSelectScope=function(selectScope){var listIndex,_ref;return null!=(null!=(_ref=this.selectScopes[selectScope.getTargetDomId()])?_ref.map[selectScope.getDomId()]:void 0)?console.log("selectScope with id="+selectScope.getDomId()+" is already registered for target "+selectScope.getTargetDomId()):(null==this.selectScopes[selectScope.getTargetDomId()]&&(this.selectScopes[selectScope.getTargetDomId()]={map:{},list:[]}),listIndex=this.selectScopes[selectScope.getTargetDomId()].list.push(selectScope),this.selectScopes[selectScope.getTargetDomId()].map[selectScope.getDomId()]=listIndex)},Coordinator.prototype.unregisterSelectScope=function(selectScope){var listIndex,_ref;if(null!=(null!=(_ref=this.selectScopes[selectScope.getTargetDomId()])?_ref.map[selectScope.getDomId()]:void 0))return listIndex=this.selectScopes[selectScope.getTargetDomId()][selectScope.getDomId()],this.selectScopes[selectScope.getTargetDomId()].list.splice(listIndex,1),delete this.selectScopes[selectScope.getTargetDomId()].map[selectScope.getDomId()];throw Error("selectScope with id="+selectScope.getDomId()+" is not registered for target "+selectScope.getTargetDomId())},Coordinator.prototype.selectAll=function(targetDomId){var selectScope,_i,_len,_ref,_results;for(_ref=this.selectScopes[targetDomId].list,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)selectScope=_ref[_i],_results.push(this.select(selectScope));return _results},Coordinator}())})}.call(this),function(){angular.module("djangoCradmin.objecttable",[]).controller("CradminMultiselectObjectTableViewController",["$scope",function($scope){return $scope.selectAllChecked=!1,$scope.numberOfSelected=0,$scope.selectedAction=null,$scope.setCheckboxValue=function(itemkey,value){return $scope.items[itemkey]=value},$scope.getCheckboxValue=function(itemkey){return $scope.items[itemkey]},$scope.toggleAllCheckboxes=function(){return $scope.selectAllChecked=!$scope.selectAllChecked,$scope.numberOfSelected=0,angular.forEach($scope.items,function(checked,itemkey){return $scope.setCheckboxValue(itemkey,$scope.selectAllChecked),$scope.selectAllChecked?$scope.numberOfSelected+=1:void 0})},$scope.toggleCheckbox=function(itemkey){var newvalue;return newvalue=!$scope.getCheckboxValue(itemkey),$scope.setCheckboxValue(itemkey,newvalue),newvalue?$scope.numberOfSelected+=1:($scope.numberOfSelected-=1,$scope.selectAllChecked=!1)}}])}.call(this),function(){angular.module("djangoCradmin.pagepreview",[]).provider("djangoCradminPagePreview",function(){var PagePreview;return PagePreview=function(){function PagePreview(){this.pagePreviewWrapper=null,this.bodyContentWrapperElement=angular.element("#django_cradmin_bodycontentwrapper"),this.bodyElement=angular.element("body")}return PagePreview.prototype.registerPagePreviewWrapper=function(pagePreviewWrapper){return this.pagePreviewWrapper=pagePreviewWrapper},PagePreview.prototype.setPreviewConfig=function(previewConfig){return this.pagePreviewWrapper.setPreviewConfig(previewConfig)},PagePreview.prototype.addBodyContentWrapperClass=function(cssclass){return this.bodyContentWrapperElement.addClass(cssclass)},PagePreview.prototype.removeBodyContentWrapperClass=function(cssclass){return this.bodyContentWrapperElement.removeClass(cssclass)},PagePreview.prototype.disableBodyScrolling=function(){return this.bodyElement.addClass("django-cradmin-noscroll")},PagePreview.prototype.enableBodyScrolling=function(){return this.bodyElement.removeClass("django-cradmin-noscroll")},PagePreview}(),this.$get=function(){return new PagePreview},this}).directive("djangoCradminPagePreviewWrapper",["$window","$timeout","djangoCradminPagePreview",function($window,$timeout,djangoCradminPagePreview){return{restrict:"A",scope:{},controller:function($scope,djangoCradminPagePreview){var previewConfigWaitingForStartup;djangoCradminPagePreview.registerPagePreviewWrapper(this),$scope.origin=""+window.location.protocol+"//"+window.location.host,$scope.mainWindow=angular.element($window),$scope.windowDimensions=null,previewConfigWaitingForStartup=null,this.setIframeWrapper=function(iframeWrapperScope){return $scope.iframeWrapperScope=iframeWrapperScope,this._readyCheck()},this.setIframe=function(iframeScope){return $scope.iframeScope=iframeScope,this._readyCheck()},this.setNavbar=function(navbarScope){return $scope.navbarScope=navbarScope,this._readyCheck()},this.setLoadSpinner=function(loadSpinnerScope){return $scope.loadSpinnerScope=loadSpinnerScope,this._readyCheck()},this.setIframeWrapperInner=function(iframeInnerScope){return $scope.iframeInnerScope=iframeInnerScope},this.showNavbar=function(){return $scope.iframeWrapperScope.showNavbar()},this.setUrl=function(url){return $scope.loadSpinnerScope.show(),$scope.iframeInnerScope.scrollToTop(),$scope.iframeScope.setUrl(url)},this._readyCheck=function(){var isReady;return isReady=null!=$scope.iframeInnerScope&&null!=$scope.loadSpinnerScope&&null!=$scope.navbarScope&&null!=$scope.iframeScope&&null!=$scope.iframeWrapperScope,isReady?this._onReady():void 0},this._onReady=function(){return null!=previewConfigWaitingForStartup?this._applyPreviewConfig():void 0},this._applyPreviewConfig=function(){var url;return url=previewConfigWaitingForStartup.urls[0].url,$scope.navbarScope.setConfig(previewConfigWaitingForStartup),$scope.iframeInnerScope.hide(),previewConfigWaitingForStartup=null,this.showPreview(),this.setUrl(url)},this.setPreviewConfig=function(previewConfig){return previewConfigWaitingForStartup=previewConfig,this._readyCheck()},this.showPreview=function(){return djangoCradminPagePreview.addBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper"),$scope.iframeWrapperScope.show(),$scope.mainWindow.bind("resize",$scope.onWindowResize)},this.hidePreview=function(){return $scope.iframeWrapperScope.hide(),$scope.mainWindow.unbind("resize",$scope.onWindowResize),djangoCradminPagePreview.removeBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper")},this.onIframeLoaded=function(){return $scope.iframeInnerScope.show(),$scope.loadSpinnerScope.hide()},$scope.getWindowDimensions=function(){return{height:$scope.mainWindow.height(),width:$scope.mainWindow.width()}},$scope.$watch("windowDimensions",function(newSize,oldSize){$scope.iframeScope.setIframeSize()},!0),$scope.onWindowResize=function(){$timeout.cancel($scope.applyResizeTimer),$scope.applyResizeTimer=$timeout(function(){return $scope.windowDimensions=$scope.getWindowDimensions(),$scope.$apply()},300)}},link:function(scope,element){}}}]).directive("djangoCradminPagePreviewIframeWrapper",["$window","djangoCradminPagePreview",function($window,djangoCradminPagePreview){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},controller:function($scope){$scope.show=function(){return $scope.iframeWrapperElement.addClass("django-cradmin-floating-fullsize-iframe-wrapper-show"),djangoCradminPagePreview.disableBodyScrolling(),djangoCradminPagePreview.addBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper-push")},$scope.hide=function(){return $scope.iframeWrapperElement.removeClass("django-cradmin-floating-fullsize-iframe-wrapper-show"),djangoCradminPagePreview.enableBodyScrolling(),djangoCradminPagePreview.removeBodyContentWrapperClass("django-cradmin-floating-fullsize-iframe-bodycontentwrapper-push")},$scope.showNavbar=function(){return $scope.iframeWrapperElement.addClass("django-cradmin-floating-fullsize-iframe-wrapper-with-navbar")},$scope.scrollToTop=function(){return $scope.iframeWrapperElement.scrollTop(0)},this.hide=function(){return $scope.hide()},this.show=function(){return $scope.show()}},link:function(scope,element,attrs,wrapperCtrl){scope.iframeWrapperElement=element,wrapperCtrl.setIframeWrapper(scope)}}}]).directive("djangoCradminPagePreviewIframeWrapperInner",["$window",function($window){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},controller:function($scope){$scope.scrollToTop=function(){return $scope.element.scrollTop(0)},$scope.show=function(){return $scope.element.removeClass("ng-hide")},$scope.hide=function(){return $scope.element.addClass("ng-hide")}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setIframeWrapperInner(scope)}}}]).directive("djangoCradminPagePreviewIframeClosebutton",function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},link:function(scope,element,attrs,wrapperCtrl){element.on("click",function(e){return e.preventDefault(),wrapperCtrl.hidePreview()})}}}).directive("djangoCradminPagePreviewLoadSpinner",function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},controller:function($scope){return $scope.hide=function(){return $scope.element.addClass("ng-hide")},$scope.show=function(){return $scope.element.removeClass("ng-hide")}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setLoadSpinner(scope)}}}).directive("djangoCradminPagePreviewNavbar",function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{mobileMenuHeader:"@djangoCradminPagePreviewNavbarMobileMenuHeader"},templateUrl:"pagepreview/navbar.tpl.html",controller:function($scope){return $scope.activeIndex=0,$scope.activeUrlConfig=null,$scope.setConfig=function(previewConfig){return previewConfig.urls.length>1?($scope.previewConfig=previewConfig,$scope.setActive(0),$scope.$apply(),$scope.wrapperCtrl.showNavbar()):void 0},$scope.setActive=function(index){return $scope.activeIndex=index,$scope.activeUrlConfig=$scope.previewConfig.urls[$scope.activeIndex]}},link:function($scope,element,attrs,wrapperCtrl){$scope.element=element,$scope.wrapperCtrl=wrapperCtrl,$scope.wrapperCtrl.setNavbar($scope),$scope.onNavlinkClick=function(e,index){e.preventDefault(),$scope.setActive(index),$scope.wrapperCtrl.setUrl($scope.previewConfig.urls[index].url)}}}}).directive("djangoCradminPagePreviewIframe",function(){return{require:"^^djangoCradminPagePreviewWrapper",restrict:"A",scope:{},controller:function($scope){return $scope.setUrl=function(url){return $scope.element.attr("src",url),$scope.resetIframeSize()},$scope.setIframeSize=function(){var iframeBodyHeight,iframeDocument,iframeWindow;return iframeWindow=$scope.element.contents(),iframeDocument=iframeWindow[0],null!=iframeDocument?(iframeBodyHeight=iframeDocument.body.offsetHeight,$scope.element.height(iframeBodyHeight+60)):void 0},$scope.resetIframeSize=function(){return $scope.element.height("40px")}},link:function(scope,element,attrs,wrapperCtrl){scope.element=element,wrapperCtrl.setIframe(scope),scope.element.on("load",function(){return wrapperCtrl.onIframeLoaded(),scope.setIframeSize()})}}}).directive("djangoCradminPagePreviewOpenOnPageLoad",["djangoCradminPagePreview",function(djangoCradminPagePreview){return{restrict:"A",scope:{previewConfig:"=djangoCradminPagePreviewOpenOnPageLoad"},link:function(scope,element,attrs){djangoCradminPagePreview.setPreviewConfig(scope.previewConfig)}}}]).directive("djangoCradminPagePreviewOpenOnClick",["djangoCradminPagePreview",function(djangoCradminPagePreview){return{restrict:"A",scope:{previewConfig:"=djangoCradminPagePreviewOpenOnClick"},link:function(scope,element,attrs){element.on("click",function(e){return e.preventDefault(),djangoCradminPagePreview.setPreviewConfig(scope.previewConfig)})}}}])}.call(this),function(){angular.module("djangoCradmin.scrollfixed",[]).directive("djangoCradminScrollTopFixed",["djangoCradminWindowScrollTop",function(djangoCradminWindowScrollTop){var isUsingDefaultScroll,swapClasses,swapCssClasses;return isUsingDefaultScroll=!0,swapClasses=!1,swapCssClasses=function($scope,$element,newWindowTopPosition){var settings;if(settings=$scope.djangoCradminScrollTopFixedSettings,newWindowTopPosition>=$scope.djangoCradminScrollTopFixedInitialTopOffset){if(isUsingDefaultScroll)return $element.removeClass(settings.cssClasses.defaultClass),$element.addClass(settings.cssClasses.scrollClass),isUsingDefaultScroll=!1}else if(newWindowTopPosition<$scope.djangoCradminScrollTopFixedInitialTopOffset&&!isUsingDefaultScroll)return $element.addClass(settings.cssClasses.defaultClass),$element.removeClass(settings.cssClasses.scrollClass),isUsingDefaultScroll=!0},{controller:function($scope,$element,$attrs){$scope.djangoCradminScrollTopFixedSettings=$scope.$eval($attrs.djangoCradminScrollTopFixed),
null!=$scope.djangoCradminScrollTopFixedSettings.cssClasses&&$scope.djangoCradminScrollTopFixedSettings.cssClasses.defaultClass&&$scope.djangoCradminScrollTopFixedSettings.cssClasses.scrollClass&&(swapClasses=!0),$scope.onWindowScrollTopStart=function(){var _ref;return null!=(null!=(_ref=$scope.djangoCradminScrollTopFixedSettings.cssClasses)?_ref.scrollingClass:void 0)?$element.addClass($scope.djangoCradminScrollTopFixedSettings.cssClasses.scrollingClass):void 0},$scope.onWindowScrollTop=function(newWindowTopPosition,initialScrollTrigger){var newTopPosition,offset,_ref;return swapClasses&&swapCssClasses($scope,$element,newWindowTopPosition),offset=$scope.djangoCradminScrollTopFixedInitialTopOffset,$scope.djangoCradminScrollTopFixedSettings.pinToTopOnScroll&&(newWindowTopPosition>offset?offset=0:offset-=newWindowTopPosition),newTopPosition=newWindowTopPosition+offset,$scope.djangoCradminScrollTopFixedElement.css("top",""+newTopPosition+"px"),null!=(null!=(_ref=$scope.djangoCradminScrollTopFixedSettings.cssClasses)?_ref.scrollingClass:void 0)?$element.removeClass($scope.djangoCradminScrollTopFixedSettings.cssClasses.scrollingClass):void 0}},link:function($scope,element,attrs){$scope.djangoCradminScrollTopFixedElement=element,$scope.djangoCradminScrollTopFixedInitialTopOffset=parseInt(element.css("top"),10)||0,djangoCradminWindowScrollTop.register($scope),$scope.$on("$destroy",function(){return djangoCradminWindowScrollTop.unregister($scope)})}}}])}.call(this),angular.module("djangoCradmin.templates",["acemarkdown/acemarkdown.tpl.html","bulkfileupload/fileinfo.tpl.html","bulkfileupload/progress.tpl.html","bulkfileupload/rejectedfiles.tpl.html","forms/dateselector.tpl.html","pagepreview/navbar.tpl.html"]),angular.module("acemarkdown/acemarkdown.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("acemarkdown/acemarkdown.tpl.html","<div ng-transclude></div>")}]),angular.module("bulkfileupload/fileinfo.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("bulkfileupload/fileinfo.tpl.html",'<p class="django-cradmin-bulkfileupload-progress-item"\n        ng-class="{\n            \'django-cradmin-bulkfileupload-progress-item-finished\': fileInfo.finished,\n            \'django-cradmin-bulkfileupload-progress-item-error django-cradmin-bulkfileupload-errorparagraph\': fileInfo.hasErrors\n        }">\n    <button django-cradmin-bulkfileupload-remove-file-button="fileInfo"\n            ng-if="fileInfo.finished"\n            type="button"\n            class="btn btn-link django-cradmin-bulkfileupload-remove-file-button">\n        <span ng-if="!fileInfo.isRemoving &amp;&amp; !fileInfo.autosubmit"\n              class="django-cradmin-bulkfileupload-remove-file-button-isnotremoving">\n            <span class="fa fa-times"></span>\n            <span class="sr-only">{{fileInfo.i18nStrings.remove_file_label}}</span>\n        </span>\n        <span ng-if="fileInfo.isRemoving"\n              class="django-cradmin-bulkfileupload-remove-file-button-isremoving">\n            <span class="fa fa-spinner fa-spin"></span>\n            <span class="sr-only">{{fileInfo.i18nStrings.removing_file_message}}</span>\n        </span>\n    </button>\n\n    <span class="django-cradmin-progressbar">\n        <span class="django-cradmin-progressbar-progress" ng-style="{\'width\': fileInfo.percent+\'%\'}">&nbsp;</span>\n        <span class="django-cradmin-progresspercent">\n            <span class="django-cradmin-progresspercent-number">{{ fileInfo.percent }}</span>%\n        </span>\n    </span>\n    <span class="django-cradmin-filename">{{fileInfo.name}}</span>\n</p>\n')}]),angular.module("bulkfileupload/progress.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("bulkfileupload/progress.tpl.html",'<div class="django-cradmin-bulkfileupload-progress">\n    <div ng-repeat="fileInfo in fileInfoArray">\n        <div django-cradmin-bulk-file-info="fileInfo"\n             class="django-cradmin-bulkfileupload-progress-file"></div>\n    </div>\n</div>\n')}]),angular.module("bulkfileupload/rejectedfiles.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("bulkfileupload/rejectedfiles.tpl.html",'<div class="django-cradmin-bulkfileupload-rejectedfiles">\n    <p ng-repeat="fileInfo in rejectedFiles"\n            class="django-cradmin-bulkfileupload-rejectedfile django-cradmin-bulkfileupload-errorparagraph">\n        <button ng-click="closeMessage(fileInfo)"\n                type="button"\n                class="btn btn-link django-cradmin-bulkfileupload-error-closebutton">\n            <span class="fa fa-times"></span>\n            <span class="sr-only">{{fileInfo.i18nStrings.close_errormessage_label}}</span>\n        </button>\n\n        <span class="django-cradmin-bulkfileupload-rejectedfile-filename">{{ fileInfo.name }}:</span>\n        <span ng-repeat="(errorfield,errors) in fileInfo.errors">\n            <span ng-repeat="error in errors"\n                  class="django-cradmin-bulkfileupload-error">\n                {{ error.message }}\n            </span>\n        </span>\n    </p>\n</div>\n')}]),angular.module("forms/dateselector.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("forms/dateselector.tpl.html",'<div class="django-cradmin-datetime-selector"\n        ng-class="{\n            \'django-cradmin-datetime-selector-show\': page != null,\n            \'django-cradmin-datetime-selector-page1\': page == 1,\n            \'django-cradmin-datetime-selector-page2\': page == 2,\n            \'django-cradmin-datetime-selector-page3\': page == 3,\n            \'django-cradmin-datetime-selector-has-shortcuts\': hasShortcuts()\n        }">\n\n    <div class="django-cradmin-datetime-selector-backdrop"></div>\n\n    <div class="django-cradmin-datetime-selector-contentwrapper">\n        <div class="django-cradmin-datetime-selector-closeoverlay" ng-click="hide()"></div>\n        <div class="django-cradmin-datetime-selector-page django-cradmin-datetime-selector-dateview">\n            <button type="button" class="sr-only" ng-focus="onFocusHead()"></button>\n            <button type="button"\n                    class="btn btn-link django-cradmin-datetime-selector-closebutton"\n                    aria-label="{{ config.close_screenreader_text }}"\n                    ng-click="hide()">\n                        <span class="{{ config.close_icon }}" aria-hidden="true"></span>\n                    </button>\n\n            <div class="django-cradmin-datetime-selector-selectors-wrapper">\n                <div class="django-cradmin-datetime-selector-selectors">\n                    <div class="django-cradmin-datetime-selector-dateselectors">\n                        <label class="django-cradmin-datetime-selector-date-label" ng-if="config.date_label_text">\n                            {{ config.date_label_text }}\n                        </label>\n                        <label for="{{ config.destinationfieldid }}_dayselect" class="sr-only">\n                            {{ config.day_screenreader_text }}\n                        </label>\n                        <select id="{{ config.destinationfieldid }}_dayselect"\n                                class="form-control django-cradmin-datetime-selector-dayselect"\n                                ng-model="monthlyCalendarCoordinator.currentDayObject"\n                                ng-options="dayobject.label for dayobject in monthlyCalendarCoordinator.dayobjects track by dayobject.value"\n                                ng-change="onSelectDayNumber()">\n                        </select>\n\n                        <label for="{{ config.destinationfieldid }}_monthselect" class="sr-only">\n                            {{ config.month_screenreader_text }}\n                        </label>\n                        <select id="{{ config.destinationfieldid }}_monthselect"\n                                class="form-control django-cradmin-datetime-selector-monthselect"\n                                ng-model="monthlyCalendarCoordinator.currentMonthObject"\n                                ng-options="monthobject.label for monthobject in monthlyCalendarCoordinator.monthselectConfig track by monthobject.value"\n                                ng-change="onSelectMonth()">\n                        </select>\n\n                        <label for="{{ config.destinationfieldid }}_yearselect" class="sr-only">\n                            {{ config.year_screenreader_text }}\n                        </label>\n                        <select id="{{ config.destinationfieldid }}_yearselect"\n                                class="form-control django-cradmin-datetime-selector-yearselect"\n                                ng-model="monthlyCalendarCoordinator.currentYearObject"\n                                ng-options="yearobject.label for yearobject in monthlyCalendarCoordinator.yearselectConfig track by yearobject.value"\n                                ng-change="onSelectYear()">\n                        </select>\n                    </div>\n\n                    <div class="django-cradmin-datetime-selector-timeselectors" ng-if="config.include_time">\n                        <label class="django-cradmin-datetime-selector-time-label" ng-if="config.time_label_text">\n                            {{ config.time_label_text }}\n                        </label>\n                        <label for="{{ config.destinationfieldid }}_hourselect" class="sr-only">\n                            {{ config.hour_screenreader_text }}\n                        </label>\n                        <select id="{{ config.destinationfieldid }}_hourselect"\n                                class="form-control django-cradmin-datetime-selector-hourselect"\n                                ng-model="monthlyCalendarCoordinator.currentHourObject"\n                                ng-options="hourobject.label for hourobject in monthlyCalendarCoordinator.hourselectConfig track by hourobject.value"\n                                ng-change="onSelectHour()">\n                        </select>\n                        :\n                        <label for="{{ config.destinationfieldid }}_minuteselect" class="sr-only">\n                            {{ config.minute_screenreader_text }}\n                        </label>\n                        <select id="{{ config.destinationfieldid }}_minuteselect"\n                                class="form-control django-cradmin-datetime-selector-minuteselect"\n                                ng-model="monthlyCalendarCoordinator.currentMinuteObject"\n                                ng-options="minuteobject.label for minuteobject in monthlyCalendarCoordinator.minuteselectConfig track by minuteobject.value"\n                                ng-change="onSelectMinute()">\n                        </select>\n                    </div>\n\n                    <button type="button"\n                            class="btn btn-primary django-cradmin-datetime-selector-use-button"\n                            ng-click="onClickUseTime()"\n                            aria-label="{{ getUseButtonAriaLabel() }}">\n                        {{ config.usebuttonlabel }}\n                    </button>\n                </div>\n            </div>\n\n            <table class="django-cradmin-datetime-selector-table">\n                <caption class="sr-only">\n                    {{ config.dateselector_table_screenreader_caption }}\n                </caption>\n                <thead>\n                    <tr>\n                        <th ng-repeat="weekday in monthlyCalendarCoordinator.shortWeekdays">\n                            {{ weekday }}\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat="calendarWeek in monthlyCalendarCoordinator.calendarMonth.calendarWeeks">\n                        <td ng-repeat="calendarDay in calendarWeek.calendarDays"\n                                class="django-cradmin-datetime-selector-daybuttoncell"\n                                ng-class="{\n                                    \'django-cradmin-datetime-selector-daybuttoncell-not-in-current-month\': !calendarDay.isInCurrentMonth,\n                                    \'django-cradmin-datetime-selector-daybuttoncell-in-current-month\': calendarDay.isInCurrentMonth,\n                                    \'django-cradmin-datetime-selector-daybuttoncell-selected\': calendarDay.momentObject.isSame(calendarCoordinator.selectedMomentObject, \'day\'),\n                                    \'django-cradmin-datetime-selector-daybuttoncell-lastfocused\': calendarDay.momentObject.isSame(monthlyCalendarCoordinator.getLastFocusedMomentObject(), \'day\'),\n                                    \'django-cradmin-datetime-selector-daybuttoncell-today\': calendarDay.isToday(),\n                                    \'django-cradmin-datetime-selector-daybuttoncell-disabled\': calendarDay.isDisabled()\n                                }">\n                            <button type="button" class="btn btn-link django-cradmin-datetime-selector-daybuttoncell-button"\n                                    ng-click="onClickCalendarDay(calendarDay)"\n                                    tabindex="{{ getTabindexForCalendarDay(calendarDay) }}"\n                                    ng-focus="onFocusCalendayDay(calendarDay)"\n                                    aria-label="{{ getDaybuttonAriaLabel(calendarDay) }}"\n                                    ng-disabled="{{ calendarDay.isDisabled() }}">\n                                {{ monthlyCalendarCoordinator.getDayOfMonthLabelForTableCell(calendarDay) }}\n                                <span class="django-cradmin-datetime-selector-daybuttoncell-label\n                                             django-cradmin-datetime-selector-daybuttoncell-label-today"\n                                        ng-if="config.today_label_text &amp;&amp; calendarDay.isToday()">\n                                    {{ config.today_label_text }}\n                                </span>\n                                <span class="django-cradmin-datetime-selector-daybuttoncell-label\n                                             django-cradmin-datetime-selector-daybuttoncell-label-selected"\n                                        ng-if="\n                                            config.selected_day_label_text &amp;&amp;\n                                            calendarDay.momentObject.isSame(calendarCoordinator.selectedMomentObject, \'day\')">\n                                    {{ config.selected_day_label_text }}\n                                </span>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <div class="django-cradmin-datetime-selector-shortcuts" ng-if="hasShortcuts()">\n                <button type="button"\n                        class="btn btn-default django-cradmin-datetime-selector-shortcuts-todaybutton"\n                        ng-if="calendarCoordinator.todayIsValidValue()"\n                        ng-click="onClickTodayButton()">\n                    {{ config.today_button_text }}\n                </button>\n                <button type="button"\n                        class="btn btn-default django-cradmin-datetime-selector-shortcuts-nowbutton"\n                        ng-if="calendarCoordinator.nowIsValidValue()"\n                        ng-click="onClickNowButton()">\n                    {{ config.now_button_text }}\n                </button>\n                <button type="button"\n                        class="btn btn-danger django-cradmin-datetime-selector-shortcuts-clearbutton"\n                        ng-if="!config.required"\n                        ng-click="onClickClearButton()">\n                    {{ config.clear_button_text }}\n                </button>\n            </div>\n\n            <button type="button" class="sr-only" ng-focus="onFocusTail()"></button>\n        </div>\n\n        <div class="django-cradmin-datetime-selector-page django-cradmin-datetime-selector-timeview">\n            <button type="button" class="sr-only" ng-focus="onFocusHead()"></button>\n            <button type="button"\n                    class="btn btn-link django-cradmin-datetime-selector-closebutton"\n                    aria-label="{{ config.close_screenreader_text }}"\n                    ng-click="hide()">\n                        <span class="{{ config.close_icon }}" aria-hidden="true"></span>\n                    </button>\n\n            <button type="button"\n                    class="btn btn-link django-cradmin-datetime-selector-backbutton"\n                    tabindex="0"\n                    aria-label="{{ config.back_to_datepicker_screenreader_text }}"\n                    ng-click="showPage1()">\n                <span class="django-cradmin-datetime-selector-backbutton-icon-outer-wrapper">\n                    <span class="django-cradmin-datetime-selector-backbutton-icon-inner-wrapper">\n                        <span class="django-cradmin-datetime-selector-backbutton-icon {{ config.back_icon }}"></span>\n                    </span>\n                </span>\n            </button>\n\n            <div class="django-cradmin-datetime-selector-timeview-body-wrapper">\n                <div class="django-cradmin-datetime-selector-timeview-body">\n                    <p class="django-cradmin-datetime-selector-datepreview">\n                        {{ getTimeselectorDatepreview() }}\n                    </p>\n                    <div class="django-cradmin-datetime-selector-timeselectors">\n                        <form class="form-inline">\n                            <label class="django-cradmin-datetime-selector-time-label" ng-if="config.time_label_text">\n                                {{ config.time_label_text }}\n                            </label>\n                            <label for="{{ config.destinationfieldid }}_hourselect_page2" class="sr-only">\n                                {{ config.hour_screenreader_text }}\n                            </label>\n                            <select id="{{ config.destinationfieldid }}_hourselect_page2"\n                                    class="form-control django-cradmin-datetime-selector-hourselect"\n                                    ng-model="monthlyCalendarCoordinator.currentHourObject"\n                                    ng-options="hourobject.label for hourobject in monthlyCalendarCoordinator.hourselectConfig track by hourobject.value"\n                                    ng-change="onSelectHour()">\n                            </select>\n                            :\n                            <label for="{{ config.destinationfieldid }}_minuteselect_page2" class="sr-only">\n                                {{ config.minute_screenreader_text }}\n                            </label>\n                            <select id="{{ config.destinationfieldid }}_minuteselect_page2"\n                                    class="form-control django-cradmin-datetime-selector-minuteselect"\n                                    ng-model="monthlyCalendarCoordinator.currentMinuteObject"\n                                    ng-options="minuteobject.label for minuteobject in monthlyCalendarCoordinator.minuteselectConfig track by minuteobject.value"\n                                    ng-change="onSelectMinute()">\n                            </select>\n                            <button type="button"\n                                    class="btn btn-primary django-cradmin-datetime-selector-use-button"\n                                    ng-click="onClickUseTime()"\n                                    aria-label="{{ getUseButtonAriaLabel() }}">\n                                {{ config.usebuttonlabel }}\n                            </button>\n                        </form>\n                    </div>\n\n                </div>\n\n                <div class="django-cradmin-datetime-selector-shortcuts" ng-if="hasShortcuts()">\n                    <button type="button"\n                            class="btn btn-default django-cradmin-datetime-selector-shortcuts-nowbutton"\n                            ng-click="onClickNowButton()"\n                            ng-if="calendarCoordinator.shownDateIsTodayAndNowIsValid()">\n                        {{ config.now_button_text }}\n                    </button>\n                </div>\n\n            </div>\n\n\n            <button type="button" class="sr-only" ng-focus="onFocusTail()"></button>\n        </div>\n    </div>\n</div>\n')}]),angular.module("pagepreview/navbar.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("pagepreview/navbar.tpl.html",'<nav django-cradmin-menu class="django-cradmin-menu">\n    <div class="django-cradmin-menu-mobileheader">\n        <a href="#" role="button"\n           class="django-cradmin-menu-mobiletoggle"\n           ng-click="cradminMenuTogglePressed()"\n           ng-class="{\'django-cradmin-menu-mobile-toggle-button-expanded\': cradminMenuDisplay}"\n           aria-pressed="{{ getAriaPressed() }}">\n                {{ mobileMenuHeader }}\n        </a>\n    </div>\n    <div class="django-cradmin-menu-content"\n             ng-class="{\'django-cradmin-menu-content-display\': cradminMenuDisplay}">\n        <ul class="django-cradmin-menu-content-main">\n            <li ng-repeat="urlConfig in previewConfig.urls"\n                    class="django-cradmin-menu-item {{urlConfig.css_classes}}"\n                    ng-class="{\n                        \'django-cradmin-menu-activeitem\': $index == activeIndex\n                    }">\n                <a href="{{ urlConfig.url }}"\n                        django-cradmin-menu-close-on-click\n                        ng-click="onNavlinkClick($event, $index)">\n                    {{urlConfig.label}}\n                </a>\n            </li>\n        </ul>\n        <ul class="django-cradmin-menu-content-footer">\n            <li>\n                <a href="{{ activeUrlConfig.url }}" target="_blank">\n                    {{ activeUrlConfig.open_label }}\n                </a>\n            </li>\n        </ul>\n    </div>\n</nav>\n')}]),function(){angular.module("djangoCradmin.wysihtml",[]).directive("djangoCradminWysihtml",function(){return{restrict:"A",transclude:!0,template:"<div><p>Stuff is awesome!</p><div ng-transclude></div></div>"}})}.call(this);
//# sourceMappingURL=cradmin.min.js.map